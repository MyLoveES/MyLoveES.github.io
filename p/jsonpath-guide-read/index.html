<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Jayway JsonPath A Java DSL for reading JSON documents.\nGetting Started JsonPath is available at the Central Maven Repository. Maven users add this to your POM.\n1 2 3 4 5 <dependency> <groupId>com.jayway.jsonpath</groupId> <artifactId>json-path</artifactId> <version>2.6.0</version> </dependency> If you need help ask questions at Stack Overflow. Tag the question &lsquo;jsonpath&rsquo; and &lsquo;java&rsquo;.\nJsonPath expressions always refer to a JSON structure in the same way as XPath expression are used in combination with an XML document. The &ldquo;root member object&rdquo; in JsonPath is always referred to as $ regardless if it is an object or array.\n"><title>JSONPATH guide read</title><link rel=canonical href=https://MyLoveES.github.io/p/jsonpath-guide-read/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="JSONPATH guide read"><meta property='og:description' content="Jayway JsonPath A Java DSL for reading JSON documents.\nGetting Started JsonPath is available at the Central Maven Repository. Maven users add this to your POM.\n1 2 3 4 5 <dependency> <groupId>com.jayway.jsonpath</groupId> <artifactId>json-path</artifactId> <version>2.6.0</version> </dependency> If you need help ask questions at Stack Overflow. Tag the question &lsquo;jsonpath&rsquo; and &lsquo;java&rsquo;.\nJsonPath expressions always refer to a JSON structure in the same way as XPath expression are used in combination with an XML document. The &ldquo;root member object&rdquo; in JsonPath is always referred to as $ regardless if it is an object or array.\n"><meta property='og:url' content='https://MyLoveES.github.io/p/jsonpath-guide-read/'><meta property='og:site_name' content='Kunkka'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='JSON'><meta property='article:tag' content='JSONPath'><meta property='article:tag' content='å·¥å…·'><meta property='article:published_time' content='2021-06-04T17:02:13+00:00'><meta property='article:modified_time' content='2021-06-04T17:02:13+00:00'><meta name=twitter:title content="JSONPATH guide read"><meta name=twitter:description content="Jayway JsonPath A Java DSL for reading JSON documents.\nGetting Started JsonPath is available at the Central Maven Repository. Maven users add this to your POM.\n1 2 3 4 5 <dependency> <groupId>com.jayway.jsonpath</groupId> <artifactId>json-path</artifactId> <version>2.6.0</version> </dependency> If you need help ask questions at Stack Overflow. Tag the question &lsquo;jsonpath&rsquo; and &lsquo;java&rsquo;.\nJsonPath expressions always refer to a JSON structure in the same way as XPath expression are used in combination with an XML document. The &ldquo;root member object&rdquo; in JsonPath is always referred to as $ regardless if it is an object or array.\n"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_c68a00bbf16dac8.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Kunkka</a></h1><h2 class=site-description>wind rises</h2></div></header><ol class=menu-social><li><a href=https://github.com/MyLoveES target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=/index.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/about><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/archives><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/all-categories><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>Categories</span></a></li><li><a href=/links><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/all-tags><svg class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg>
<span>Tags</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#getting-started>Getting Started</a></li><li><a href=#operators>Operators</a></li><li><a href=#functions>Functions</a></li><li><a href=#filter-operators>Filter Operators</a></li><li><a href=#path-examples>Path Examples</a></li><li><a href=#reading-a-document>Reading a Document</a></li><li><a href=#what-is-returned-when>What is Returned When?</a></li><li><a href=#predicates--åˆ¤æ–­>Predicates # åˆ¤æ–­</a><ol><li><a href=#inline-predicates>Inline Predicates</a></li><li><a href=#filter-predicates>Filter Predicates</a></li><li><a href=#roll-your-own>Roll Your Own</a></li></ol></li><li><a href=#path-vs-value>Path vs Value</a></li><li><a href=#set-a-value>Set a value</a></li><li><a href=#tweaking-configuration>Tweaking Configuration</a><ol><li><a href=#options>Options</a></li><li><a href=#jsonprovider-spi>JsonProvider SPI</a></li><li><a href=#cache-spi>Cache SPI</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E6%8A%80%E6%9C%AF/>æŠ€æœ¯</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/jsonpath-guide-read/>JSONPATH guide read</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jun 04, 2021</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>10 minute read</time></div></footer></div></header><section class=article-content><h1 id=jayway-jsonpath>Jayway JsonPath</h1><p><strong>A Java DSL for reading JSON documents.</strong></p><h2 id=getting-started>Getting Started</h2><p>JsonPath is available at the Central Maven Repository. Maven users add this to your POM.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;dependency&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;groupId&gt;</span>com.jayway.jsonpath<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;artifactId&gt;</span>json-path<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;version&gt;</span>2.6.0<span class=nt>&lt;/version&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>If you need help ask questions at <a class=link href=http://stackoverflow.com/questions/tagged/jsonpath target=_blank rel=noopener>Stack Overflow</a>. Tag the question &lsquo;jsonpath&rsquo; and &lsquo;java&rsquo;.</p><p>JsonPath expressions always refer to a JSON structure in the same way as XPath expression are used in combination with an XML document. The &ldquo;root member object&rdquo; in JsonPath is always referred to as <code>$</code> regardless if it is an object or array.</p><p>JsonPath expressions can use the dotâ€“notation</p><p><code>$.store.book[0].title</code></p><p>or the bracketâ€“notation</p><p><code>$['store']['book'][0]['title']</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[ dot-notation ç‚¹è¯­æ³• ]
</span></span><span class=line><span class=cl>[ bracketâ€“notation æ‹¬å·è¯­æ³• ]
</span></span></code></pre></td></tr></table></div></div><h2 id=operators>Operators</h2><div class=table-wrapper><table><thead><tr><th style=text-align:left>Operator</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left><code>$</code></td><td style=text-align:left>The root element to query. This starts all path expressions.</td></tr><tr><td style=text-align:left><code>@</code></td><td style=text-align:left>The current node being processed by a filter predicate.</td></tr><tr><td style=text-align:left><code>*</code></td><td style=text-align:left>Wildcard. Available anywhere a name or numeric are required.</td></tr><tr><td style=text-align:left><code>..</code></td><td style=text-align:left>Deep scan. Available anywhere a name is required.</td></tr><tr><td style=text-align:left><code>.&lt;name></code></td><td style=text-align:left>Dot-notated child</td></tr><tr><td style=text-align:left><code>['&lt;name>' (, '&lt;name>')]</code></td><td style=text-align:left>Bracket-notated child or children</td></tr><tr><td style=text-align:left><code>[&lt;number> (, &lt;number>)]</code></td><td style=text-align:left>Array index or indexes</td></tr><tr><td style=text-align:left><code>[start:end]</code></td><td style=text-align:left>Array slice operator</td></tr><tr><td style=text-align:left><code>[?(&lt;expression>)]</code></td><td style=text-align:left>Filter expression. Expression must evaluate to a boolean value.</td></tr></tbody></table></div><h2 id=functions>Functions</h2><p>Functions can be invoked at the tail end of a path - the input to a function is the output of the path expression.
The function output is dictated by the function itself.</p><p>å‡½æ•°å¯ä»¥åœ¨pathçš„å°¾ç«¯è°ƒç”¨ï¼Œå‡½æ•°çš„è¾“å…¥æ˜¯pathè¡¨è¾¾å¼çš„è¾“å‡ºï¼Œå‡½æ•°è¾“å‡ºç”±å‡½æ•°æœ¬èº«å†³å®šã€‚</p><div class=table-wrapper><table><thead><tr><th style=text-align:left>Function</th><th style=text-align:left>Description</th><th style=text-align:left>Output type</th></tr></thead><tbody><tr><td style=text-align:left>min()</td><td style=text-align:left>Provides the min value of an array of numbers</td><td style=text-align:left>Double</td></tr><tr><td style=text-align:left>max()</td><td style=text-align:left>Provides the max value of an array of numbers</td><td style=text-align:left>Double</td></tr><tr><td style=text-align:left>avg()</td><td style=text-align:left>Provides the average value of an array of numbers</td><td style=text-align:left>Double</td></tr><tr><td style=text-align:left>stddev()</td><td style=text-align:left>Provides the standard deviation value of an array of numbers ï¼ˆæ ‡å‡†å·®ï¼‰</td><td style=text-align:left>Double</td></tr><tr><td style=text-align:left>length()</td><td style=text-align:left>Provides the length of an array</td><td style=text-align:left>Integer</td></tr><tr><td style=text-align:left>sum()</td><td style=text-align:left>Provides the sum value of an array of numbers</td><td style=text-align:left>Double</td></tr><tr><td style=text-align:left>keys()</td><td style=text-align:left>Provides the property keys (An alternative for terminal tilde <code>~</code>)</td><td style=text-align:left><code>Set&lt;E></code></td></tr><tr><td style=text-align:left>concat(X)</td><td style=text-align:left>Provides a concatinated version of the path output with a new item</td><td style=text-align:left>like input</td></tr><tr><td style=text-align:left>append(X)</td><td style=text-align:left>add an item to the json path output array</td><td style=text-align:left>like input</td></tr></tbody></table></div><h2 id=filter-operators>Filter Operators</h2><p>Filters are logical expressions used to filter arrays. A typical filter would be <code>[?(@.age > 18)]</code> where <code>@</code> represents the current item being processed. More complex filters can be created with logical operators <code>&&</code> and <code>||</code>. String literals must be enclosed by single or double quotes (<code>[?(@.color == 'blue')]</code> or <code>[?(@.color == "blue")]</code>).</p><div class=table-wrapper><table><thead><tr><th style=text-align:left>Operator</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>==</td><td style=text-align:left>left is equal to right (note that 1 is not equal to &lsquo;1&rsquo;)</td></tr><tr><td style=text-align:left>!=</td><td style=text-align:left>left is not equal to right</td></tr><tr><td style=text-align:left>&lt;</td><td style=text-align:left>left is less than right</td></tr><tr><td style=text-align:left>&lt;=</td><td style=text-align:left>left is less or equal to right</td></tr><tr><td style=text-align:left>></td><td style=text-align:left>left is greater than right</td></tr><tr><td style=text-align:left>>=</td><td style=text-align:left>left is greater than or equal to right</td></tr><tr><td style=text-align:left>=~</td><td style=text-align:left>left matches regular expression [?(@.name =~ /foo.*?/i)]</td></tr><tr><td style=text-align:left>in</td><td style=text-align:left>left exists in right [?(@.size in [&lsquo;S&rsquo;, &lsquo;M&rsquo;])]</td></tr><tr><td style=text-align:left>nin</td><td style=text-align:left>left does not exists in right</td></tr><tr><td style=text-align:left>subsetof</td><td style=text-align:left>left is a subset of right [?(@.sizes subsetof [&lsquo;S&rsquo;, &lsquo;M&rsquo;, &lsquo;L&rsquo;])]</td></tr><tr><td style=text-align:left>anyof</td><td style=text-align:left>left has an intersection with right [?(@.sizes anyof [&lsquo;M&rsquo;, &lsquo;L&rsquo;])]</td></tr><tr><td style=text-align:left>noneof</td><td style=text-align:left>left has no intersection with right [?(@.sizes noneof [&lsquo;M&rsquo;, &lsquo;L&rsquo;])]</td></tr><tr><td style=text-align:left>size</td><td style=text-align:left>size of left (array or string) should match right</td></tr><tr><td style=text-align:left>empty</td><td style=text-align:left>left (array or string) should be empty</td></tr></tbody></table></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>A has an intersection with B; 
</span></span><span class=line><span class=cl>A ä¸ B æœ‰äº¤é›†
</span></span></code></pre></td></tr></table></div></div><h2 id=path-examples>Path Examples</h2><p>Given the json</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;store&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;book&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;category&#34;</span><span class=o>:</span> <span class=s2>&#34;reference&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;author&#34;</span><span class=o>:</span> <span class=s2>&#34;Nigel Rees&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;title&#34;</span><span class=o>:</span> <span class=s2>&#34;Sayings of the Century&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;price&#34;</span><span class=o>:</span> <span class=mf>8.95</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;category&#34;</span><span class=o>:</span> <span class=s2>&#34;fiction&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;author&#34;</span><span class=o>:</span> <span class=s2>&#34;Evelyn Waugh&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;title&#34;</span><span class=o>:</span> <span class=s2>&#34;Sword of Honour&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;price&#34;</span><span class=o>:</span> <span class=mf>12.99</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;category&#34;</span><span class=o>:</span> <span class=s2>&#34;fiction&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;author&#34;</span><span class=o>:</span> <span class=s2>&#34;Herman Melville&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;title&#34;</span><span class=o>:</span> <span class=s2>&#34;Moby Dick&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;isbn&#34;</span><span class=o>:</span> <span class=s2>&#34;0-553-21311-3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;price&#34;</span><span class=o>:</span> <span class=mf>8.99</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;category&#34;</span><span class=o>:</span> <span class=s2>&#34;fiction&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;author&#34;</span><span class=o>:</span> <span class=s2>&#34;J. R. R. Tolkien&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;title&#34;</span><span class=o>:</span> <span class=s2>&#34;The Lord of the Rings&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;isbn&#34;</span><span class=o>:</span> <span class=s2>&#34;0-395-19395-8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;price&#34;</span><span class=o>:</span> <span class=mf>22.99</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;bicycle&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;color&#34;</span><span class=o>:</span> <span class=s2>&#34;red&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;price&#34;</span><span class=o>:</span> <span class=mf>19.95</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;expensive&#34;</span><span class=o>:</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=table-wrapper><table><thead><tr><th style=text-align:left>JsonPath (click link to try)</th><th style=text-align:left>Result</th></tr></thead><tbody><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$.store.book[*].author" target=_blank>$.store.book[*].author</a></td><td style=text-align:left>The authors of all books</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..author" target=_blank>$..author</a></td><td style=text-align:left>All authors</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$.store.*" target=_blank>$.store.*</a></td><td style=text-align:left>All things, both books and bicycles</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$.store..price" target=_blank>$.store..price</a></td><td style=text-align:left>The price of everything</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..book[2]" target=_blank>$..book[2]</a></td><td style=text-align:left>The third book</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..book[2]" target=_blank>$..book[-2]</a></td><td style=text-align:left>The second to last book</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..book[0,1]" target=_blank>$..book[0,1]</a></td><td style=text-align:left>The first two books</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..book[:2]" target=_blank>$..book[:2]</a></td><td style=text-align:left>All books from index 0 (inclusive) until index 2 (exclusive)</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..book[1:2]" target=_blank>$..book[1:2]</a></td><td style=text-align:left>All books from index 1 (inclusive) until index 2 (exclusive)</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..book[-2:]" target=_blank>$..book[-2:]</a></td><td style=text-align:left>Last two books</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..book[2:]" target=_blank>$..book[2:]</a></td><td style=text-align:left>Book number two from tail</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..book[?(@.isbn)]" target=_blank>$..book[?(@.isbn)]</a></td><td style=text-align:left>All books with an ISBN number</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$.store.book[?(@.price < 10)]" target=_blank>$.store.book[?(@.price &lt; 10)]</a></td><td style=text-align:left>All books in store cheaper than 10</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..book[?(@.price <= $['expensive'])]" target=_blank>$..book[?(@.price &lt;= $[&rsquo;expensive&rsquo;])]</a></td><td style=text-align:left>All books in store that are not &ldquo;expensive&rdquo;</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..book[?(@.author =~ /.*REES/i)]" target=_blank>$..book[?(@.author =~ /.*REES/i)]</a></td><td style=text-align:left>All books matching regex (ignore case)</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..*" target=_blank>$..*</a></td><td style=text-align:left>Give me every thing</td></tr><tr><td style=text-align:left><a href="http://jsonpath.herokuapp.com/?path=$..book.length()" target=_blank>$..book.length()</a></td><td style=text-align:left>The number of books</td></tr></tbody></table></div><h2 id=reading-a-document>Reading a Document</h2><p>The simplest most straight forward way to use JsonPath is via the static read API.</p><p>ä½¿ç”¨ JsonPath æœ€ç®€å•æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯é€šè¿‡é™æ€è¯»å– APIã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>String</span><span class=w> </span><span class=n>json</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;...&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>authors</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>json</span><span class=p>,</span><span class=w> </span><span class=s>&#34;$.store.book[*].author&#34;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>If you only want to read once this is OK. In case you need to read an other path as well this is not the way
to go since the document will be parsed every time you call JsonPath.read(&mldr;). To avoid the problem you can
parse the json first.</p><p>å¦‚æœæ‚¨åªæƒ³é˜…è¯»ä¸€æ¬¡ï¼Œè¿™æ˜¯å¯ä»¥çš„ã€‚å¦‚æœæ‚¨è¿˜éœ€è¦è¯»å–å…¶ä»–è·¯å¾„ï¼Œè¿™ä¸æ˜¯å¯è¡Œçš„æ–¹æ³•ï¼Œå› ä¸ºæ¯æ¬¡è°ƒç”¨ JsonPath.read(&mldr;) æ—¶éƒ½ä¼šè§£ææ–‡æ¡£ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥å…ˆè§£æjsonã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>String</span><span class=w> </span><span class=n>json</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;...&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Object</span><span class=w> </span><span class=n>document</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Configuration</span><span class=p>.</span><span class=na>defaultConfiguration</span><span class=p>().</span><span class=na>jsonProvider</span><span class=p>().</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>author0</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>document</span><span class=p>,</span><span class=w> </span><span class=s>&#34;$.store.book[0].author&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>author1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>document</span><span class=p>,</span><span class=w> </span><span class=s>&#34;$.store.book[1].author&#34;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>JsonPath also provides a fluent API. This is also the most flexible one.</p><p>JsonPath è¿˜æä¾›äº†æµç•…çš„ APIã€‚è¿™ä¹Ÿæ˜¯æœ€çµæ´»çš„ä¸€ç§ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>String</span><span class=w> </span><span class=n>json</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;...&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ReadContext</span><span class=w> </span><span class=n>ctx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>authorsOfBooksWithISBN</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ctx</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$.store.book[?(@.isbn)].author&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>expensiveBooks</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                            </span><span class=p>.</span><span class=na>using</span><span class=p>(</span><span class=n>configuration</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                            </span><span class=p>.</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                            </span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$.store.book[?(@.price &gt; 10)]&#34;</span><span class=p>,</span><span class=w> </span><span class=n>List</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=what-is-returned-when>What is Returned When?</h2><p>When using JsonPath in java its important to know what type you expect in your result. JsonPath will automatically
try to cast the result to the type expected by the invoker.</p><p>åœ¨ java ä¸­ä½¿ç”¨ JsonPath æ—¶ï¼Œé‡è¦çš„æ˜¯è¦çŸ¥é“æ‚¨åœ¨ç»“æœä¸­æœŸæœ›ä»€ä¹ˆç±»å‹ã€‚ JsonPath å°†è‡ªåŠ¨å°è¯•å°†ç»“æœè½¬æ¢ä¸ºè°ƒç”¨è€…æœŸæœ›çš„ç±»å‹ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>//Will throw an java.lang.ClassCastException    </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>list</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$.store.book[0].author&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>//Works fine</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>author</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$.store.book[0].author&#34;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>When evaluating a path you need to understand the concept of when a path is <code>definite</code>. A path is <code>indefinite</code> if it contains:</p><p>ä½ éœ€è¦ç†è§£ä½•ä¸ºç»å¯¹ï¼Œä½•ä¸ºç›¸å¯¹</p><ul><li><code>..</code> - a deep scan operator</li><li><code>?(&lt;expression>)</code> - an expression</li><li><code>[&lt;number>, &lt;number> (, &lt;number>)]</code> - multiple array indexes</li></ul><p><code>Indefinite</code> paths always returns a list (as represented by current JsonProvider).</p><p>ç›¸å¯¹pathå¸¸å¸¸è¿”å›list</p><p>By default a simple object mapper is provided by the MappingProvider SPI. This allows you to specify the return type you want and the MappingProvider will
try to perform the mapping. In the example below mapping between <code>Long</code> and <code>Date</code> is demonstrated.</p><p>ä½ å¯ä»¥æŒ‡å®šæœŸæœ›çš„è¿”å›ç±»å‹ï¼Œmapperä¼šå°è¯•è¿›è¡Œæ˜ å°„</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>String</span><span class=w> </span><span class=n>json</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;{\&#34;date_as_long\&#34; : 1411455611975}&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Date</span><span class=w> </span><span class=n>date</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$[&#39;date_as_long&#39;]&#34;</span><span class=p>,</span><span class=w> </span><span class=n>Date</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>If you configure JsonPath to use <code>JacksonMappingProvider</code> or <code>GsonMappingProvider</code> you can even map your JsonPath output directly into POJO&rsquo;s.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Book</span><span class=w> </span><span class=n>book</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$.store.book[0]&#34;</span><span class=p>,</span><span class=w> </span><span class=n>Book</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>To obtain full generics type information, use TypeRef.</p><p>è¦è·å–å®Œæ•´çš„æ³›å‹ç±»å‹ä¿¡æ¯ï¼Œè¯·ä½¿ç”¨ TypeRefã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>TypeRef</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>typeRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>TypeRef</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;</span><span class=p>()</span><span class=w> </span><span class=p>{};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>titles</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>parse</span><span class=p>(</span><span class=n>JSON_DOCUMENT</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$.store.book[*].title&#34;</span><span class=p>,</span><span class=w> </span><span class=n>typeRef</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=predicates--åˆ¤æ–­>Predicates # åˆ¤æ–­</h2><p>There are three different ways to create filter predicates in JsonPath.</p><h3 id=inline-predicates>Inline Predicates</h3><p>Inline predicates are the ones defined in the path.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>books</span><span class=w> </span><span class=o>=</span><span class=w>  </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                                     </span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$.store.book[?(@.price &lt; 10)]&#34;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>You can use <code>&&</code> and <code>||</code> to combine multiple predicates <code>[?(@.price &lt; 10 && @.category == 'fiction')]</code> ,
<code>[?(@.category == 'reference' || @.price > 10)]</code>.</p><p>You can use <code>!</code> to negate a predicate <code>[?(!(@.price &lt; 10 && @.category == 'fiction'))]</code>.</p><h3 id=filter-predicates>Filter Predicates</h3><p>Predicates can be built using the Filter API as shown below:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import static</span><span class=w> </span><span class=nn>com.jayway.jsonpath.JsonPath.parse</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import static</span><span class=w> </span><span class=nn>com.jayway.jsonpath.Criteria.where</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import static</span><span class=w> </span><span class=nn>com.jayway.jsonpath.Filter.filter</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Filter</span><span class=w> </span><span class=n>cheapFictionFilter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>filter</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=n>where</span><span class=p>(</span><span class=s>&#34;category&#34;</span><span class=p>).</span><span class=na>is</span><span class=p>(</span><span class=s>&#34;fiction&#34;</span><span class=p>).</span><span class=na>and</span><span class=p>(</span><span class=s>&#34;price&#34;</span><span class=p>).</span><span class=na>lte</span><span class=p>(</span><span class=n>10D</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>books</span><span class=w> </span><span class=o>=</span><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=n>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$.store.book[?]&#34;</span><span class=p>,</span><span class=w> </span><span class=n>cheapFictionFilter</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Notice the placeholder <code>?</code> for the filter in the path. When multiple filters are provided they are applied in order where the number of placeholders must match
the number of provided filters. You can specify multiple predicate placeholders in one filter operation <code>[?, ?]</code>, both predicates must match.</p><p>&lsquo;?&lsquo;çš„æ•°ç›® å¿…é¡»ä¸è¿‡æ»¤å™¨çš„æ•°ç›®ç›¸åŒ¹é…</p><p>Filters can also be combined with &lsquo;OR&rsquo; and &lsquo;AND&rsquo;</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Filter</span><span class=w> </span><span class=n>fooOrBar</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>filter</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=n>where</span><span class=p>(</span><span class=s>&#34;foo&#34;</span><span class=p>).</span><span class=na>exists</span><span class=p>(</span><span class=kc>true</span><span class=p>)).</span><span class=na>or</span><span class=p>(</span><span class=n>where</span><span class=p>(</span><span class=s>&#34;bar&#34;</span><span class=p>).</span><span class=na>exists</span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Filter</span><span class=w> </span><span class=n>fooAndBar</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>filter</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=n>where</span><span class=p>(</span><span class=s>&#34;foo&#34;</span><span class=p>).</span><span class=na>exists</span><span class=p>(</span><span class=kc>true</span><span class=p>)).</span><span class=na>and</span><span class=p>(</span><span class=n>where</span><span class=p>(</span><span class=s>&#34;bar&#34;</span><span class=p>).</span><span class=na>exists</span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=roll-your-own>Roll Your Own</h3><p>Third option is to implement your own predicates</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Predicate</span><span class=w> </span><span class=n>booksWithISBN</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Predicate</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>apply</span><span class=p>(</span><span class=n>PredicateContext</span><span class=w> </span><span class=n>ctx</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ctx</span><span class=p>.</span><span class=na>item</span><span class=p>(</span><span class=n>Map</span><span class=p>.</span><span class=na>class</span><span class=p>).</span><span class=na>containsKey</span><span class=p>(</span><span class=s>&#34;isbn&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>books</span><span class=w> </span><span class=o>=</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=n>reader</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$.store.book[?].isbn&#34;</span><span class=p>,</span><span class=w> </span><span class=n>List</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>booksWithISBN</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=path-vs-value>Path vs Value</h2><p>In the Goessner implementation a JsonPath can return either <code>Path</code> or <code>Value</code>. <code>Value</code> is the default and what all the examples above are returning. If you rather have the path of the elements our query is hitting this can be achieved with an option.</p><p>å¯ä»¥æŒ‡å®šoptionæ¥è¿”å›pathï¼ˆé»˜è®¤è¿”å›valueï¼‰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Configuration</span><span class=w> </span><span class=n>conf</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Configuration</span><span class=p>.</span><span class=na>builder</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=p>.</span><span class=na>options</span><span class=p>(</span><span class=n>Option</span><span class=p>.</span><span class=na>AS_PATH_LIST</span><span class=p>).</span><span class=na>build</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>pathList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>using</span><span class=p>(</span><span class=n>conf</span><span class=p>).</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$..author&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>assertThat</span><span class=p>(</span><span class=n>pathList</span><span class=p>).</span><span class=na>containsExactly</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;$[&#39;store&#39;][&#39;book&#39;][0][&#39;author&#39;]&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;$[&#39;store&#39;][&#39;book&#39;][1][&#39;author&#39;]&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;$[&#39;store&#39;][&#39;book&#39;][2][&#39;author&#39;]&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;$[&#39;store&#39;][&#39;book&#39;][3][&#39;author&#39;]&#34;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=set-a-value>Set a value</h2><p>The library offers the possibility to set a value.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>String</span><span class=w> </span><span class=n>newJson</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>set</span><span class=p>(</span><span class=s>&#34;$[&#39;store&#39;][&#39;book&#39;][0][&#39;author&#39;]&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Paul&#34;</span><span class=p>).</span><span class=na>jsonString</span><span class=p>();</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=tweaking-configuration>Tweaking Configuration</h2><h3 id=options>Options</h3><p>When creating your Configuration there are a few option flags that can alter the default behaviour.</p><p><strong>DEFAULT_PATH_LEAF_TO_NULL</strong><br>This option makes JsonPath return null for missing leafs. Consider the following json</p><p>ä¸å­˜åœ¨çš„keyè¿”å›NULL</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>   <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;john&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;gender&#34;</span> <span class=o>:</span> <span class=s2>&#34;male&#34;</span>
</span></span><span class=line><span class=cl>   <span class=p>},</span>
</span></span><span class=line><span class=cl>   <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;ben&#34;</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Configuration</span><span class=w> </span><span class=n>conf</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Configuration</span><span class=p>.</span><span class=na>defaultConfiguration</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>//Works fine</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>gender0</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>using</span><span class=p>(</span><span class=n>conf</span><span class=p>).</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$[0][&#39;gender&#39;]&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>//PathNotFoundException thrown</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>gender1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>using</span><span class=p>(</span><span class=n>conf</span><span class=p>).</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$[1][&#39;gender&#39;]&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Configuration</span><span class=w> </span><span class=n>conf2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>conf</span><span class=p>.</span><span class=na>addOptions</span><span class=p>(</span><span class=n>Option</span><span class=p>.</span><span class=na>DEFAULT_PATH_LEAF_TO_NULL</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>//Works fine</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>gender0</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>using</span><span class=p>(</span><span class=n>conf2</span><span class=p>).</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$[0][&#39;gender&#39;]&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>//Works fine (null is returned)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>gender1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>using</span><span class=p>(</span><span class=n>conf2</span><span class=p>).</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$[1][&#39;gender&#39;]&#34;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>ALWAYS_RETURN_LIST</strong><br>This option configures JsonPath to return a list even when the path is <code>definite</code>.</p><p>æ°¸è¿œè¿”å›List</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Configuration</span><span class=w> </span><span class=n>conf</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Configuration</span><span class=p>.</span><span class=na>defaultConfiguration</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>//ClassCastException thrown</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>genders0</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>using</span><span class=p>(</span><span class=n>conf</span><span class=p>).</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$[0][&#39;gender&#39;]&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Configuration</span><span class=w> </span><span class=n>conf2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>conf</span><span class=p>.</span><span class=na>addOptions</span><span class=p>(</span><span class=n>Option</span><span class=p>.</span><span class=na>ALWAYS_RETURN_LIST</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>//Works fine</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>genders0</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>using</span><span class=p>(</span><span class=n>conf2</span><span class=p>).</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$[0][&#39;gender&#39;]&#34;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>SUPPRESS_EXCEPTIONS</strong><br>This option makes sure no exceptions are propagated from path evaluation. It follows these simple rules:</p><p>è·¯å¾„è®¡ç®—ä¸è¿”å›å¼‚å¸¸</p><ul><li>If option <code>ALWAYS_RETURN_LIST</code> is present an empty list will be returned</li><li>If option <code>ALWAYS_RETURN_LIST</code> is <strong>NOT</strong> present null returned</li></ul><p><strong>REQUIRE_PROPERTIES</strong></br>This option configures JsonPath to require properties defined in path when an <code>indefinite</code> path is evaluated.</p><p>å¿…é¡»ç»å¯¹è·¯å¾„</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Configuration</span><span class=w> </span><span class=n>conf</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Configuration</span><span class=p>.</span><span class=na>defaultConfiguration</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>//Works fine</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>genders</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>using</span><span class=p>(</span><span class=n>conf</span><span class=p>).</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$[*][&#39;gender&#39;]&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Configuration</span><span class=w> </span><span class=n>conf2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>conf</span><span class=p>.</span><span class=na>addOptions</span><span class=p>(</span><span class=n>Option</span><span class=p>.</span><span class=na>REQUIRE_PROPERTIES</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>//PathNotFoundException thrown</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>genders</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>JsonPath</span><span class=p>.</span><span class=na>using</span><span class=p>(</span><span class=n>conf2</span><span class=p>).</span><span class=na>parse</span><span class=p>(</span><span class=n>json</span><span class=p>).</span><span class=na>read</span><span class=p>(</span><span class=s>&#34;$[*][&#39;gender&#39;]&#34;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=jsonprovider-spi>JsonProvider SPI</h3><p>JsonPath is shipped with five different JsonProviders:</p><ul><li><a class=link href=https://code.google.com/p/json-smart/ target=_blank rel=noopener>JsonSmartJsonProvider</a> (default)</li><li><a class=link href=https://github.com/FasterXML/jackson target=_blank rel=noopener>JacksonJsonProvider</a></li><li><a class=link href=https://github.com/FasterXML/jackson target=_blank rel=noopener>JacksonJsonNodeJsonProvider</a></li><li><a class=link href=https://code.google.com/p/google-gson/ target=_blank rel=noopener>GsonJsonProvider</a></li><li><a class=link href=http://www.json.org/java/index.html target=_blank rel=noopener>JsonOrgJsonProvider</a></li></ul><p>Changing the configuration defaults as demonstrated should only be done when your application is being initialized. Changes during runtime is strongly discouraged, especially in multi threaded applications.</p><p>ä»…åœ¨åˆå§‹åŒ–åº”ç”¨ç¨‹åºæ—¶æ‰åº”æŒ‰ç…§æ¼”ç¤ºæ›´æ”¹é…ç½®é»˜è®¤å€¼ã€‚å¼ºçƒˆå»ºè®®ä¸è¦åœ¨è¿è¡Œæ—¶è¿›è¡Œæ›´æ”¹ï¼Œå°¤å…¶æ˜¯åœ¨å¤šçº¿ç¨‹åº”ç”¨ç¨‹åºä¸­ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Configuration</span><span class=p>.</span><span class=na>setDefaults</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Configuration</span><span class=p>.</span><span class=na>Defaults</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>JsonProvider</span><span class=w> </span><span class=n>jsonProvider</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>JacksonJsonProvider</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>MappingProvider</span><span class=w> </span><span class=n>mappingProvider</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>JacksonMappingProvider</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>JsonProvider</span><span class=w> </span><span class=nf>jsonProvider</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>jsonProvider</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>MappingProvider</span><span class=w> </span><span class=nf>mappingProvider</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>mappingProvider</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Set</span><span class=o>&lt;</span><span class=n>Option</span><span class=o>&gt;</span><span class=w> </span><span class=nf>options</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>EnumSet</span><span class=p>.</span><span class=na>noneOf</span><span class=p>(</span><span class=n>Option</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>});</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Note that the JacksonJsonProvider requires <code>com.fasterxml.jackson.core:jackson-databind:2.4.5</code> and the GsonJsonProvider requires <code>com.google.code.gson:gson:2.3.1</code> on your classpath.</p><h3 id=cache-spi>Cache SPI</h3><p>In JsonPath 2.1.0 a new Cache SPI was introduced. This allows API consumers to configure path caching in a way that suits their needs. The cache must be configured before it is accesses for the first time or a JsonPathException is thrown. JsonPath ships with two cache implementations</p><ul><li><code>com.jayway.jsonpath.spi.cache.LRUCache</code> (default, thread safe)</li><li><code>com.jayway.jsonpath.spi.cache.NOOPCache</code> (no cache)</li></ul><p>If you want to implement your own cache the API is simple.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>CacheProvider</span><span class=p>.</span><span class=na>setCache</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Cache</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>//Not thread safe simple cache</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>JsonPath</span><span class=o>&gt;</span><span class=w> </span><span class=n>map</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>JsonPath</span><span class=o>&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>JsonPath</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>map</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>put</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>JsonPath</span><span class=w> </span><span class=n>jsonPath</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>map</span><span class=p>.</span><span class=na>put</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>jsonPath</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>});</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/json/>JSON</a>
<a href=/tags/jsonpath/>JSONPath</a>
<a href=/tags/%E5%B7%A5%E5%85%B7/>å·¥å…·</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/pandoc-mardown-to-pdf/><div class=article-details><h2 class=article-title>Pandoc mardown to pdf</h2></div></a></article><article><a href=/p/ssh-key-%E7%94%9F%E6%88%90/><div class=article-details><h2 class=article-title>SSH key ç”Ÿæˆ</h2></div></a></article><article><a href=/p/vim-%E6%8F%92%E4%BB%B6/><div class=article-details><h2 class=article-title>Vim æ’ä»¶</h2></div></a></article><article><a href=/p/ack-command/><div class=article-details><h2 class=article-title>Ack command</h2></div></a></article><article><a href=/p/disconas-immich/><div class=article-details><h2 class=article-title>DiscoNAS Immich</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//weasley.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 Kunkka</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>