<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content=' R: 4.3.2 (2023-10-31) R studio: 2023.12.1+402 (2023.12.1+402)\nå‡è®¾ä¸€å®¶å…¬å¸æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–°ç³»åˆ—çš„å¹³æ¿ç”µè„‘ï¼Œå¹¶è¯•å›¾ç¡®å®šå¹³æ¿ç”µè„‘çš„å°ºå¯¸åº”è¯¥æœ‰å¤šå¤§ï¼Œä»¥åŠåº”è¯¥å…·æœ‰ä½•ç§ç±»å‹çš„å­˜å‚¨å’Œå†…å­˜ã€‚ ä¸ºäº†æ”¯æŒè¿™ä¸ªå†³å®šï¼Œäº†è§£å®¢æˆ·å¯¹è¿™äº›ä¸åŒç‰¹å¾çš„ä»·å€¼ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚\nå®¢æˆ·å–œæ¬¢è¿˜æ˜¯ä¸å–œæ¬¢å¤§å±å¹•å°ºå¯¸ï¼Ÿ å¦‚æœä»–ä»¬å–œæ¬¢ï¼Œä»–ä»¬æ„¿æ„ä¸ºæ›´å¤§å°ºå¯¸çš„å±å¹•æ”¯ä»˜å¤šå°‘æ›´å¤šçš„è´¹ç”¨ï¼Ÿ æ˜¯å¦æœ‰ä¸€äº›å®¢æˆ·ç¾¤ä½“æ¯”å…¶ä»–å®¢æˆ·æ›´å–œæ¬¢å¤§å±å¹•ï¼Ÿ 1. Choice-Based Conjoint Analysis Data 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 > cbc.df<-read.csv("Data_Conjoint_Choice.csv", stringsAsFactors = TRUE) > str(cbc.df) &#39;data.frame&#39;:\t6165 obs. of 10 variables: $ ConsumerId : int 1 1 1 1 1 1 1 1 1 1 ... $ ChoiceSetId : int 1 1 1 2 2 2 3 3 3 4 ... $ AlternativeIdInSet: int 1 2 3 1 2 3 1 2 3 1 ... $ Choice : int 1 0 0 1 0 0 0 0 1 1 ... $ Brand : Factor w/ 5 levels "Galaxy","iPad",..: 2 5 3 2 5 4 5 3 1 2 ... $ Size : Factor w/ 4 levels "sz10inch","sz7inch",..: 2 1 4 3 1 2 3 4 1 4 ... $ Storage : Factor w/ 4 levels "st128gb","st16gb",..: 3 4 2 3 1 4 4 2 1 2 ... $ Ram : Factor w/ 3 levels "r1gb","r2gb",..: 3 2 2 1 3 1 1 3 2 3 ... $ Battery : Factor w/ 3 levels "b7h","b8h","b9h": 1 3 2 2 1 3 1 3 3 1 ... $ Price : int 499 399 499 399 299 199 199 399 499 299 ... > head(cbc.df) ConsumerId ChoiceSetId AlternativeIdInSet Choice Brand Size Storage Ram Battery Price 1 1 1 1 1 iPad sz7inch st32gb r4gb b7h 499 2 1 1 2 0 Surface sz10inch st64gb r2gb b9h 399 3 1 1 3 0 Kindle sz9inch st16gb r2gb b8h 499 4 1 2 1 1 iPad sz8inch st32gb r1gb b8h 399 5 1 2 2 0 Surface sz10inch st128gb r4gb b7h 299 6 1 2 3 0 Nexus sz7inch st64gb r1gb b9h 199 cbc.df ä¸­çš„å‰ä¸‰è¡Œæè¿°äº†å¯¹å—è®¿è€…1æå‡ºçš„ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚é€‰æ‹©åˆ—æ˜¾ç¤ºè¯¥å—è®¿è€…é€‰æ‹©äº†ç¬¬ä¸€ä¸ªå¤‡é€‰æ–¹æ¡ˆã€‚ ConsumerId è¡¨ç¤ºå›ç­”è¿™ä¸ªé—®é¢˜çš„å—è®¿è€…ã€‚ ChoiceSetId è¡¨ç¤ºè¿™å‰ä¸‰è¡Œæ˜¯ç¬¬ä¸€ä¸ªé—®é¢˜çš„é…ç½®æ–‡ä»¶ã€‚ChoiceSetId ç¼–å· 1:15 æ˜¯ä¸ºå—è®¿è€…1ï¼Œç„¶å 15:30 æ˜¯ä¸ºå—è®¿è€…2ï¼Œä¾æ­¤ç±»æ¨ã€‚ AlternativeIdInSet è¡¨ç¤ºç¬¬ä¸€è¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ1ï¼Œç¬¬äºŒè¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ2ï¼Œç¬¬ä¸‰è¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ3ã€‚ Choice è¡¨ç¤ºå—è®¿è€…é€‰æ‹©äº†å“ªä¸ªå¤‡é€‰æ–¹æ¡ˆï¼›å¯¹äºæ¯ä¸ªé€‰æ‹©é—®é¢˜ä¸­è¢«æŒ‡å®šä¸ºé¦–é€‰å¤‡é€‰æ–¹æ¡ˆçš„é…ç½®æ–‡ä»¶ï¼Œå®ƒçš„å€¼ä¸º1ã€‚ ç°åœ¨é‡è¦çš„æ˜¯ä¼°è®¡ä¸€ä¸ªå®Œæ•´çš„é€‰æ‹©æ¨¡å‹ã€‚ä»»ä½•å»ºæ¨¡çš„ç¬¬ä¸€æ­¥æ˜¯ä½¿ç”¨åŸºæœ¬æè¿°æ€§ç»Ÿè®¡äº†è§£æ•°æ®ã€‚æˆ‘ä»¬ä»æ‘˜è¦å¼€å§‹:\n'><title>R[week6] Managing Sustainable Competitive Advantage code</title><link rel=canonical href=https://MyLoveES.github.io/p/rweek6-managing-sustainable-competitive-advantage-code/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="R[week6] Managing Sustainable Competitive Advantage code"><meta property='og:description' content=' R: 4.3.2 (2023-10-31) R studio: 2023.12.1+402 (2023.12.1+402)\nå‡è®¾ä¸€å®¶å…¬å¸æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–°ç³»åˆ—çš„å¹³æ¿ç”µè„‘ï¼Œå¹¶è¯•å›¾ç¡®å®šå¹³æ¿ç”µè„‘çš„å°ºå¯¸åº”è¯¥æœ‰å¤šå¤§ï¼Œä»¥åŠåº”è¯¥å…·æœ‰ä½•ç§ç±»å‹çš„å­˜å‚¨å’Œå†…å­˜ã€‚ ä¸ºäº†æ”¯æŒè¿™ä¸ªå†³å®šï¼Œäº†è§£å®¢æˆ·å¯¹è¿™äº›ä¸åŒç‰¹å¾çš„ä»·å€¼ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚\nå®¢æˆ·å–œæ¬¢è¿˜æ˜¯ä¸å–œæ¬¢å¤§å±å¹•å°ºå¯¸ï¼Ÿ å¦‚æœä»–ä»¬å–œæ¬¢ï¼Œä»–ä»¬æ„¿æ„ä¸ºæ›´å¤§å°ºå¯¸çš„å±å¹•æ”¯ä»˜å¤šå°‘æ›´å¤šçš„è´¹ç”¨ï¼Ÿ æ˜¯å¦æœ‰ä¸€äº›å®¢æˆ·ç¾¤ä½“æ¯”å…¶ä»–å®¢æˆ·æ›´å–œæ¬¢å¤§å±å¹•ï¼Ÿ 1. Choice-Based Conjoint Analysis Data 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 > cbc.df<-read.csv("Data_Conjoint_Choice.csv", stringsAsFactors = TRUE) > str(cbc.df) &#39;data.frame&#39;:\t6165 obs. of 10 variables: $ ConsumerId : int 1 1 1 1 1 1 1 1 1 1 ... $ ChoiceSetId : int 1 1 1 2 2 2 3 3 3 4 ... $ AlternativeIdInSet: int 1 2 3 1 2 3 1 2 3 1 ... $ Choice : int 1 0 0 1 0 0 0 0 1 1 ... $ Brand : Factor w/ 5 levels "Galaxy","iPad",..: 2 5 3 2 5 4 5 3 1 2 ... $ Size : Factor w/ 4 levels "sz10inch","sz7inch",..: 2 1 4 3 1 2 3 4 1 4 ... $ Storage : Factor w/ 4 levels "st128gb","st16gb",..: 3 4 2 3 1 4 4 2 1 2 ... $ Ram : Factor w/ 3 levels "r1gb","r2gb",..: 3 2 2 1 3 1 1 3 2 3 ... $ Battery : Factor w/ 3 levels "b7h","b8h","b9h": 1 3 2 2 1 3 1 3 3 1 ... $ Price : int 499 399 499 399 299 199 199 399 499 299 ... > head(cbc.df) ConsumerId ChoiceSetId AlternativeIdInSet Choice Brand Size Storage Ram Battery Price 1 1 1 1 1 iPad sz7inch st32gb r4gb b7h 499 2 1 1 2 0 Surface sz10inch st64gb r2gb b9h 399 3 1 1 3 0 Kindle sz9inch st16gb r2gb b8h 499 4 1 2 1 1 iPad sz8inch st32gb r1gb b8h 399 5 1 2 2 0 Surface sz10inch st128gb r4gb b7h 299 6 1 2 3 0 Nexus sz7inch st64gb r1gb b9h 199 cbc.df ä¸­çš„å‰ä¸‰è¡Œæè¿°äº†å¯¹å—è®¿è€…1æå‡ºçš„ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚é€‰æ‹©åˆ—æ˜¾ç¤ºè¯¥å—è®¿è€…é€‰æ‹©äº†ç¬¬ä¸€ä¸ªå¤‡é€‰æ–¹æ¡ˆã€‚ ConsumerId è¡¨ç¤ºå›ç­”è¿™ä¸ªé—®é¢˜çš„å—è®¿è€…ã€‚ ChoiceSetId è¡¨ç¤ºè¿™å‰ä¸‰è¡Œæ˜¯ç¬¬ä¸€ä¸ªé—®é¢˜çš„é…ç½®æ–‡ä»¶ã€‚ChoiceSetId ç¼–å· 1:15 æ˜¯ä¸ºå—è®¿è€…1ï¼Œç„¶å 15:30 æ˜¯ä¸ºå—è®¿è€…2ï¼Œä¾æ­¤ç±»æ¨ã€‚ AlternativeIdInSet è¡¨ç¤ºç¬¬ä¸€è¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ1ï¼Œç¬¬äºŒè¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ2ï¼Œç¬¬ä¸‰è¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ3ã€‚ Choice è¡¨ç¤ºå—è®¿è€…é€‰æ‹©äº†å“ªä¸ªå¤‡é€‰æ–¹æ¡ˆï¼›å¯¹äºæ¯ä¸ªé€‰æ‹©é—®é¢˜ä¸­è¢«æŒ‡å®šä¸ºé¦–é€‰å¤‡é€‰æ–¹æ¡ˆçš„é…ç½®æ–‡ä»¶ï¼Œå®ƒçš„å€¼ä¸º1ã€‚ ç°åœ¨é‡è¦çš„æ˜¯ä¼°è®¡ä¸€ä¸ªå®Œæ•´çš„é€‰æ‹©æ¨¡å‹ã€‚ä»»ä½•å»ºæ¨¡çš„ç¬¬ä¸€æ­¥æ˜¯ä½¿ç”¨åŸºæœ¬æè¿°æ€§ç»Ÿè®¡äº†è§£æ•°æ®ã€‚æˆ‘ä»¬ä»æ‘˜è¦å¼€å§‹:\n'><meta property='og:url' content='https://MyLoveES.github.io/p/rweek6-managing-sustainable-competitive-advantage-code/'><meta property='og:site_name' content='Kunkka'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Rè¯­è¨€'><meta property='article:tag' content='æ•°æ®åˆ†æ'><meta property='article:tag' content='ç«äº‰ä¼˜åŠ¿'><meta property='article:published_time' content='2024-03-29T00:00:00+00:00'><meta property='article:modified_time' content='2024-03-29T00:00:00+00:00'><meta name=twitter:title content="R[week6] Managing Sustainable Competitive Advantage code"><meta name=twitter:description content=' R: 4.3.2 (2023-10-31) R studio: 2023.12.1+402 (2023.12.1+402)\nå‡è®¾ä¸€å®¶å…¬å¸æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–°ç³»åˆ—çš„å¹³æ¿ç”µè„‘ï¼Œå¹¶è¯•å›¾ç¡®å®šå¹³æ¿ç”µè„‘çš„å°ºå¯¸åº”è¯¥æœ‰å¤šå¤§ï¼Œä»¥åŠåº”è¯¥å…·æœ‰ä½•ç§ç±»å‹çš„å­˜å‚¨å’Œå†…å­˜ã€‚ ä¸ºäº†æ”¯æŒè¿™ä¸ªå†³å®šï¼Œäº†è§£å®¢æˆ·å¯¹è¿™äº›ä¸åŒç‰¹å¾çš„ä»·å€¼ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚\nå®¢æˆ·å–œæ¬¢è¿˜æ˜¯ä¸å–œæ¬¢å¤§å±å¹•å°ºå¯¸ï¼Ÿ å¦‚æœä»–ä»¬å–œæ¬¢ï¼Œä»–ä»¬æ„¿æ„ä¸ºæ›´å¤§å°ºå¯¸çš„å±å¹•æ”¯ä»˜å¤šå°‘æ›´å¤šçš„è´¹ç”¨ï¼Ÿ æ˜¯å¦æœ‰ä¸€äº›å®¢æˆ·ç¾¤ä½“æ¯”å…¶ä»–å®¢æˆ·æ›´å–œæ¬¢å¤§å±å¹•ï¼Ÿ 1. Choice-Based Conjoint Analysis Data 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 > cbc.df<-read.csv("Data_Conjoint_Choice.csv", stringsAsFactors = TRUE) > str(cbc.df) &#39;data.frame&#39;:\t6165 obs. of 10 variables: $ ConsumerId : int 1 1 1 1 1 1 1 1 1 1 ... $ ChoiceSetId : int 1 1 1 2 2 2 3 3 3 4 ... $ AlternativeIdInSet: int 1 2 3 1 2 3 1 2 3 1 ... $ Choice : int 1 0 0 1 0 0 0 0 1 1 ... $ Brand : Factor w/ 5 levels "Galaxy","iPad",..: 2 5 3 2 5 4 5 3 1 2 ... $ Size : Factor w/ 4 levels "sz10inch","sz7inch",..: 2 1 4 3 1 2 3 4 1 4 ... $ Storage : Factor w/ 4 levels "st128gb","st16gb",..: 3 4 2 3 1 4 4 2 1 2 ... $ Ram : Factor w/ 3 levels "r1gb","r2gb",..: 3 2 2 1 3 1 1 3 2 3 ... $ Battery : Factor w/ 3 levels "b7h","b8h","b9h": 1 3 2 2 1 3 1 3 3 1 ... $ Price : int 499 399 499 399 299 199 199 399 499 299 ... > head(cbc.df) ConsumerId ChoiceSetId AlternativeIdInSet Choice Brand Size Storage Ram Battery Price 1 1 1 1 1 iPad sz7inch st32gb r4gb b7h 499 2 1 1 2 0 Surface sz10inch st64gb r2gb b9h 399 3 1 1 3 0 Kindle sz9inch st16gb r2gb b8h 499 4 1 2 1 1 iPad sz8inch st32gb r1gb b8h 399 5 1 2 2 0 Surface sz10inch st128gb r4gb b7h 299 6 1 2 3 0 Nexus sz7inch st64gb r1gb b9h 199 cbc.df ä¸­çš„å‰ä¸‰è¡Œæè¿°äº†å¯¹å—è®¿è€…1æå‡ºçš„ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚é€‰æ‹©åˆ—æ˜¾ç¤ºè¯¥å—è®¿è€…é€‰æ‹©äº†ç¬¬ä¸€ä¸ªå¤‡é€‰æ–¹æ¡ˆã€‚ ConsumerId è¡¨ç¤ºå›ç­”è¿™ä¸ªé—®é¢˜çš„å—è®¿è€…ã€‚ ChoiceSetId è¡¨ç¤ºè¿™å‰ä¸‰è¡Œæ˜¯ç¬¬ä¸€ä¸ªé—®é¢˜çš„é…ç½®æ–‡ä»¶ã€‚ChoiceSetId ç¼–å· 1:15 æ˜¯ä¸ºå—è®¿è€…1ï¼Œç„¶å 15:30 æ˜¯ä¸ºå—è®¿è€…2ï¼Œä¾æ­¤ç±»æ¨ã€‚ AlternativeIdInSet è¡¨ç¤ºç¬¬ä¸€è¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ1ï¼Œç¬¬äºŒè¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ2ï¼Œç¬¬ä¸‰è¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ3ã€‚ Choice è¡¨ç¤ºå—è®¿è€…é€‰æ‹©äº†å“ªä¸ªå¤‡é€‰æ–¹æ¡ˆï¼›å¯¹äºæ¯ä¸ªé€‰æ‹©é—®é¢˜ä¸­è¢«æŒ‡å®šä¸ºé¦–é€‰å¤‡é€‰æ–¹æ¡ˆçš„é…ç½®æ–‡ä»¶ï¼Œå®ƒçš„å€¼ä¸º1ã€‚ ç°åœ¨é‡è¦çš„æ˜¯ä¼°è®¡ä¸€ä¸ªå®Œæ•´çš„é€‰æ‹©æ¨¡å‹ã€‚ä»»ä½•å»ºæ¨¡çš„ç¬¬ä¸€æ­¥æ˜¯ä½¿ç”¨åŸºæœ¬æè¿°æ€§ç»Ÿè®¡äº†è§£æ•°æ®ã€‚æˆ‘ä»¬ä»æ‘˜è¦å¼€å§‹:\n'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_c68a00bbf16dac8.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Kunkka</a></h1><h2 class=site-description>wind rises</h2></div></header><ol class=menu-social><li><a href=https://github.com/MyLoveES target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=/index.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/about><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/archives><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/all-categories><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>Categories</span></a></li><li><a href=/links><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/all-tags><svg class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg>
<span>Tags</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#21-define-reference-levels---used-when-estimating-model>2.1 Define reference levels - used when estimating model</a></li><li><a href=#22-define-data-format>2.2 Define data format</a></li></ol><ol><li><a href=#31-meaning-of-parameters>3.1 Meaning of parameters</a></li><li><a href=#32-model-fit>3.2 Model fit</a></li></ol><ol><li><a href=#41-predicted-market-share>4.1 Predicted Market Share</a></li><li><a href=#42-conjoint-simulator>4.2 Conjoint simulator</a></li><li><a href=#43-willingness-to-pay>4.3 Willingness to pay</a><ol><li><a href=#431-what-is-the-brand-value-of-ipad-relative-to-galaxy>4.3.1 What is the brand value of iPad relative to Galaxy?</a></li><li><a href=#432-willingness-to-pay-for-an-attribute-upgrade>4.3.2 Willingness to Pay for an Attribute Upgrade</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E6%95%99%E7%A8%8B/>æ•™ç¨‹</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/rweek6-managing-sustainable-competitive-advantage-code/>R[week6] Managing Sustainable Competitive Advantage code</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Mar 29, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>9 minute read</time></div></footer></div></header><section class=article-content><blockquote><p>R: 4.3.2 (2023-10-31)
R studio: 2023.12.1+402 (2023.12.1+402)</p></blockquote><p>å‡è®¾ä¸€å®¶å…¬å¸æ­£åœ¨å¼€å‘ä¸€æ¬¾æ–°ç³»åˆ—çš„å¹³æ¿ç”µè„‘ï¼Œå¹¶è¯•å›¾ç¡®å®šå¹³æ¿ç”µè„‘çš„å°ºå¯¸åº”è¯¥æœ‰å¤šå¤§ï¼Œä»¥åŠåº”è¯¥å…·æœ‰ä½•ç§ç±»å‹çš„å­˜å‚¨å’Œå†…å­˜ã€‚
ä¸ºäº†æ”¯æŒè¿™ä¸ªå†³å®šï¼Œäº†è§£å®¢æˆ·å¯¹è¿™äº›ä¸åŒç‰¹å¾çš„ä»·å€¼ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚</p><ul><li>å®¢æˆ·å–œæ¬¢è¿˜æ˜¯ä¸å–œæ¬¢å¤§å±å¹•å°ºå¯¸ï¼Ÿ</li><li>å¦‚æœä»–ä»¬å–œæ¬¢ï¼Œä»–ä»¬æ„¿æ„ä¸ºæ›´å¤§å°ºå¯¸çš„å±å¹•æ”¯ä»˜å¤šå°‘æ›´å¤šçš„è´¹ç”¨ï¼Ÿ</li><li>æ˜¯å¦æœ‰ä¸€äº›å®¢æˆ·ç¾¤ä½“æ¯”å…¶ä»–å®¢æˆ·æ›´å–œæ¬¢å¤§å±å¹•ï¼Ÿ</li></ul><h1 id=1-choice-based-conjoint-analysis-data>1. Choice-Based Conjoint Analysis Data</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&gt;</span> <span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>&lt;-</span><span class=n>read</span><span class=o>.</span><span class=n>csv</span><span class=p>(</span><span class=s2>&#34;Data_Conjoint_Choice.csv&#34;</span><span class=p>,</span> <span class=n>stringsAsFactors</span> <span class=o>=</span> <span class=n>TRUE</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;</span> <span class=nb>str</span><span class=p>(</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;data.frame&#39;</span><span class=p>:</span>	<span class=mi>6165</span> <span class=n>obs</span><span class=o>.</span> <span class=n>of</span>  <span class=mi>10</span> <span class=n>variables</span><span class=p>:</span>
</span></span><span class=line><span class=cl> <span class=o>$</span> <span class=n>ConsumerId</span>        <span class=p>:</span> <span class=ne>int</span>  <span class=mi>1</span> <span class=mi>1</span> <span class=mi>1</span> <span class=mi>1</span> <span class=mi>1</span> <span class=mi>1</span> <span class=mi>1</span> <span class=mi>1</span> <span class=mi>1</span> <span class=mi>1</span> <span class=o>...</span>
</span></span><span class=line><span class=cl> <span class=o>$</span> <span class=n>ChoiceSetId</span>       <span class=p>:</span> <span class=ne>int</span>  <span class=mi>1</span> <span class=mi>1</span> <span class=mi>1</span> <span class=mi>2</span> <span class=mi>2</span> <span class=mi>2</span> <span class=mi>3</span> <span class=mi>3</span> <span class=mi>3</span> <span class=mi>4</span> <span class=o>...</span>
</span></span><span class=line><span class=cl> <span class=o>$</span> <span class=n>AlternativeIdInSet</span><span class=p>:</span> <span class=ne>int</span>  <span class=mi>1</span> <span class=mi>2</span> <span class=mi>3</span> <span class=mi>1</span> <span class=mi>2</span> <span class=mi>3</span> <span class=mi>1</span> <span class=mi>2</span> <span class=mi>3</span> <span class=mi>1</span> <span class=o>...</span>
</span></span><span class=line><span class=cl> <span class=o>$</span> <span class=n>Choice</span>            <span class=p>:</span> <span class=ne>int</span>  <span class=mi>1</span> <span class=mi>0</span> <span class=mi>0</span> <span class=mi>1</span> <span class=mi>0</span> <span class=mi>0</span> <span class=mi>0</span> <span class=mi>0</span> <span class=mi>1</span> <span class=mi>1</span> <span class=o>...</span>
</span></span><span class=line><span class=cl> <span class=o>$</span> <span class=n>Brand</span>             <span class=p>:</span> <span class=n>Factor</span> <span class=n>w</span><span class=o>/</span> <span class=mi>5</span> <span class=n>levels</span> <span class=s2>&#34;Galaxy&#34;</span><span class=p>,</span><span class=s2>&#34;iPad&#34;</span><span class=p>,</span><span class=o>..</span><span class=p>:</span> <span class=mi>2</span> <span class=mi>5</span> <span class=mi>3</span> <span class=mi>2</span> <span class=mi>5</span> <span class=mi>4</span> <span class=mi>5</span> <span class=mi>3</span> <span class=mi>1</span> <span class=mi>2</span> <span class=o>...</span>
</span></span><span class=line><span class=cl> <span class=o>$</span> <span class=n>Size</span>              <span class=p>:</span> <span class=n>Factor</span> <span class=n>w</span><span class=o>/</span> <span class=mi>4</span> <span class=n>levels</span> <span class=s2>&#34;sz10inch&#34;</span><span class=p>,</span><span class=s2>&#34;sz7inch&#34;</span><span class=p>,</span><span class=o>..</span><span class=p>:</span> <span class=mi>2</span> <span class=mi>1</span> <span class=mi>4</span> <span class=mi>3</span> <span class=mi>1</span> <span class=mi>2</span> <span class=mi>3</span> <span class=mi>4</span> <span class=mi>1</span> <span class=mi>4</span> <span class=o>...</span>
</span></span><span class=line><span class=cl> <span class=o>$</span> <span class=n>Storage</span>           <span class=p>:</span> <span class=n>Factor</span> <span class=n>w</span><span class=o>/</span> <span class=mi>4</span> <span class=n>levels</span> <span class=s2>&#34;st128gb&#34;</span><span class=p>,</span><span class=s2>&#34;st16gb&#34;</span><span class=p>,</span><span class=o>..</span><span class=p>:</span> <span class=mi>3</span> <span class=mi>4</span> <span class=mi>2</span> <span class=mi>3</span> <span class=mi>1</span> <span class=mi>4</span> <span class=mi>4</span> <span class=mi>2</span> <span class=mi>1</span> <span class=mi>2</span> <span class=o>...</span>
</span></span><span class=line><span class=cl> <span class=o>$</span> <span class=n>Ram</span>               <span class=p>:</span> <span class=n>Factor</span> <span class=n>w</span><span class=o>/</span> <span class=mi>3</span> <span class=n>levels</span> <span class=s2>&#34;r1gb&#34;</span><span class=p>,</span><span class=s2>&#34;r2gb&#34;</span><span class=p>,</span><span class=o>..</span><span class=p>:</span> <span class=mi>3</span> <span class=mi>2</span> <span class=mi>2</span> <span class=mi>1</span> <span class=mi>3</span> <span class=mi>1</span> <span class=mi>1</span> <span class=mi>3</span> <span class=mi>2</span> <span class=mi>3</span> <span class=o>...</span>
</span></span><span class=line><span class=cl> <span class=o>$</span> <span class=n>Battery</span>           <span class=p>:</span> <span class=n>Factor</span> <span class=n>w</span><span class=o>/</span> <span class=mi>3</span> <span class=n>levels</span> <span class=s2>&#34;b7h&#34;</span><span class=p>,</span><span class=s2>&#34;b8h&#34;</span><span class=p>,</span><span class=s2>&#34;b9h&#34;</span><span class=p>:</span> <span class=mi>1</span> <span class=mi>3</span> <span class=mi>2</span> <span class=mi>2</span> <span class=mi>1</span> <span class=mi>3</span> <span class=mi>1</span> <span class=mi>3</span> <span class=mi>3</span> <span class=mi>1</span> <span class=o>...</span>
</span></span><span class=line><span class=cl> <span class=o>$</span> <span class=n>Price</span>             <span class=p>:</span> <span class=ne>int</span>  <span class=mi>499</span> <span class=mi>399</span> <span class=mi>499</span> <span class=mi>399</span> <span class=mi>299</span> <span class=mi>199</span> <span class=mi>199</span> <span class=mi>399</span> <span class=mi>499</span> <span class=mi>299</span> <span class=o>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;</span> <span class=n>head</span><span class=p>(</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>ConsumerId</span> <span class=n>ChoiceSetId</span> <span class=n>AlternativeIdInSet</span> <span class=n>Choice</span>   <span class=n>Brand</span>     <span class=n>Size</span> <span class=n>Storage</span>  <span class=n>Ram</span> <span class=n>Battery</span> <span class=n>Price</span>
</span></span><span class=line><span class=cl><span class=mi>1</span>          <span class=mi>1</span>           <span class=mi>1</span>                  <span class=mi>1</span>      <span class=mi>1</span>    <span class=n>iPad</span>  <span class=n>sz7inch</span>  <span class=n>st32gb</span> <span class=n>r4gb</span>     <span class=n>b7h</span>   <span class=mi>499</span>
</span></span><span class=line><span class=cl><span class=mi>2</span>          <span class=mi>1</span>           <span class=mi>1</span>                  <span class=mi>2</span>      <span class=mi>0</span> <span class=n>Surface</span> <span class=n>sz10inch</span>  <span class=n>st64gb</span> <span class=n>r2gb</span>     <span class=n>b9h</span>   <span class=mi>399</span>
</span></span><span class=line><span class=cl><span class=mi>3</span>          <span class=mi>1</span>           <span class=mi>1</span>                  <span class=mi>3</span>      <span class=mi>0</span>  <span class=n>Kindle</span>  <span class=n>sz9inch</span>  <span class=n>st16gb</span> <span class=n>r2gb</span>     <span class=n>b8h</span>   <span class=mi>499</span>
</span></span><span class=line><span class=cl><span class=mi>4</span>          <span class=mi>1</span>           <span class=mi>2</span>                  <span class=mi>1</span>      <span class=mi>1</span>    <span class=n>iPad</span>  <span class=n>sz8inch</span>  <span class=n>st32gb</span> <span class=n>r1gb</span>     <span class=n>b8h</span>   <span class=mi>399</span>
</span></span><span class=line><span class=cl><span class=mi>5</span>          <span class=mi>1</span>           <span class=mi>2</span>                  <span class=mi>2</span>      <span class=mi>0</span> <span class=n>Surface</span> <span class=n>sz10inch</span> <span class=n>st128gb</span> <span class=n>r4gb</span>     <span class=n>b7h</span>   <span class=mi>299</span>
</span></span><span class=line><span class=cl><span class=mi>6</span>          <span class=mi>1</span>           <span class=mi>2</span>                  <span class=mi>3</span>      <span class=mi>0</span>   <span class=n>Nexus</span>  <span class=n>sz7inch</span>  <span class=n>st64gb</span> <span class=n>r1gb</span>     <span class=n>b9h</span>   <span class=mi>199</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>cbc.df ä¸­çš„å‰ä¸‰è¡Œæè¿°äº†å¯¹å—è®¿è€…1æå‡ºçš„ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚é€‰æ‹©åˆ—æ˜¾ç¤ºè¯¥å—è®¿è€…é€‰æ‹©äº†ç¬¬ä¸€ä¸ªå¤‡é€‰æ–¹æ¡ˆã€‚</li><li>ConsumerId è¡¨ç¤ºå›ç­”è¿™ä¸ªé—®é¢˜çš„å—è®¿è€…ã€‚</li><li>ChoiceSetId è¡¨ç¤ºè¿™å‰ä¸‰è¡Œæ˜¯ç¬¬ä¸€ä¸ªé—®é¢˜çš„é…ç½®æ–‡ä»¶ã€‚ChoiceSetId ç¼–å· 1:15 æ˜¯ä¸ºå—è®¿è€…1ï¼Œç„¶å 15:30 æ˜¯ä¸ºå—è®¿è€…2ï¼Œä¾æ­¤ç±»æ¨ã€‚</li><li>AlternativeIdInSet è¡¨ç¤ºç¬¬ä¸€è¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ1ï¼Œç¬¬äºŒè¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ2ï¼Œç¬¬ä¸‰è¡Œæ˜¯å¤‡é€‰æ–¹æ¡ˆ3ã€‚</li><li>Choice è¡¨ç¤ºå—è®¿è€…é€‰æ‹©äº†å“ªä¸ªå¤‡é€‰æ–¹æ¡ˆï¼›å¯¹äºæ¯ä¸ªé€‰æ‹©é—®é¢˜ä¸­è¢«æŒ‡å®šä¸ºé¦–é€‰å¤‡é€‰æ–¹æ¡ˆçš„é…ç½®æ–‡ä»¶ï¼Œå®ƒçš„å€¼ä¸º1ã€‚</li></ul><p>ç°åœ¨é‡è¦çš„æ˜¯ä¼°è®¡ä¸€ä¸ªå®Œæ•´çš„é€‰æ‹©æ¨¡å‹ã€‚ä»»ä½•å»ºæ¨¡çš„ç¬¬ä¸€æ­¥æ˜¯ä½¿ç”¨åŸºæœ¬æè¿°æ€§ç»Ÿè®¡äº†è§£æ•°æ®ã€‚æˆ‘ä»¬ä»æ‘˜è¦å¼€å§‹:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; summary(cbc.df)
</span></span><span class=line><span class=cl>   ConsumerId   ChoiceSetId   AlternativeIdInSet     Choice           Brand            Size         Storage       Ram       Battery        Price      
</span></span><span class=line><span class=cl> Min.   :  1   Min.   :   1   Min.   :1          Min.   :0.0000   Galaxy :1263   sz10inch:1371   st128gb:1376   r1gb:2192   b7h:1918   Min.   :169.0  
</span></span><span class=line><span class=cl> 1st Qu.: 35   1st Qu.: 514   1st Qu.:1          1st Qu.:0.0000   iPad   :1538   sz7inch :1767   st16gb :1370   r2gb:2055   b8h:2055   1st Qu.:199.0  
</span></span><span class=line><span class=cl> Median : 69   Median :1028   Median :2          Median :0.0000   Kindle :1119   sz8inch :1520   st32gb :1774   r4gb:1918   b9h:2192   Median :299.0  
</span></span><span class=line><span class=cl> Mean   : 69   Mean   :1028   Mean   :2          Mean   :0.3333   Nexus  :1104   sz9inch :1507   st64gb :1645                          Mean   :307.5  
</span></span><span class=line><span class=cl> 3rd Qu.:103   3rd Qu.:1542   3rd Qu.:3          3rd Qu.:1.0000   Surface:1141                                                         3rd Qu.:399.0  
</span></span><span class=line><span class=cl> Max.   :137   Max.   :2055   Max.   :3          Max.   :1.0000                                                                        Max.   :499.0 
</span></span></code></pre></td></tr></table></div></div><p>æˆ‘ä»¬çœ‹åˆ°æ¯ä¸ªå±æ€§æ°´å¹³åœ¨é—®é¢˜ä¸­å‡ºç°äº†å¤šå°‘æ¬¡ã€‚æ€»ç»“é€‰æ‹©æ•°æ®çš„ä¸€ä¸ªæ›´å…·ä¿¡æ¯é‡çš„æ–¹å¼æ˜¯è®¡ç®—é€‰æ‹©è®¡æ•°ï¼Œè¿™æ˜¯å—è®¿è€…åœ¨æ¯ä¸ªç‰¹å¾æ°´å¹³ä¸Šé€‰æ‹©å¤‡é€‰æ–¹æ¡ˆçš„æ¬¡æ•°çš„äº¤å‰è¡¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ xtabs() è½»æ¾åœ°å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; xtabs(Choice~Price, data=cbc.df)
</span></span><span class=line><span class=cl>Price
</span></span><span class=line><span class=cl>169 199 299 399 499 
</span></span><span class=line><span class=cl>688 472 329 365 201
</span></span></code></pre></td></tr></table></div></div><ul><li>è¡¨æ ¼çš„è¡Œè¡¨ç¤ºé€‰æ‹©ï¼ˆChoiceï¼‰ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé€‰æ‹©æ˜¯ä¸€ä¸ªäºŒå…ƒå˜é‡ï¼ˆ1 æˆ– 0ï¼‰ã€‚</li><li>è¡¨æ ¼çš„åˆ—è¡¨ç¤ºä»·æ ¼ï¼ˆPriceï¼‰ï¼Œåˆ—ä¸­çš„æ•°å€¼è¡¨ç¤ºè¯¥ä»·æ ¼ä¸‹è¢«é€‰æ‹©çš„æ¬¡æ•°ã€‚
å…·ä½“åˆ°ç»“æœçš„è§£é‡Šå¦‚ä¸‹ï¼š</li></ul><p>åœ¨ä»·æ ¼ä¸º 169 çš„æƒ…å†µä¸‹ï¼Œè¢«é€‰æ‹©äº† 688 æ¬¡ã€‚<br>åœ¨ä»·æ ¼ä¸º 199 çš„æƒ…å†µä¸‹ï¼Œè¢«é€‰æ‹©äº† 472 æ¬¡ã€‚<br>åœ¨ä»·æ ¼ä¸º 299 çš„æƒ…å†µä¸‹ï¼Œè¢«é€‰æ‹©äº† 329 æ¬¡ã€‚<br>åœ¨ä»·æ ¼ä¸º 399 çš„æƒ…å†µä¸‹ï¼Œè¢«é€‰æ‹©äº† 365 æ¬¡ã€‚<br>åœ¨ä»·æ ¼ä¸º 499 çš„æƒ…å†µä¸‹ï¼Œè¢«é€‰æ‹©äº† 201 æ¬¡ã€‚</p><p>å—è®¿è€…æ›´ç»å¸¸é€‰æ‹©å”®ä»·ä¸º Â£169 çš„å¹³æ¿ç”µè„‘ï¼Œè€Œä¸æ˜¯å”®ä»·ä¸º Â£299 æˆ– Â£499 çš„å¹³æ¿ç”µè„‘ã€‚<br>å¦‚æœæˆ‘ä»¬è®¡ç®—å°ºå¯¸å±æ€§çš„è®¡æ•°ï¼Œæˆ‘ä»¬ä¼šå‘ç°é€‰æ‹©åœ¨ 7 è‹±å¯¸ã€8 è‹±å¯¸å’Œ 10 è‹±å¯¸ä¹‹é—´æ›´åŠ å¹³è¡¡ï¼Œè€Œåœ¨ 9 è‹±å¯¸ä¸Šé€‰æ‹©æ›´å¤šã€‚</p><blockquote><p>xtabs()</p></blockquote><p>ç”¨äºåˆ›å»ºäº¤å‰è¡¨ï¼ˆContingency Tableï¼‰çš„å‡½æ•°ã€‚äº¤å‰è¡¨æ˜¯ä¸€ç§ç”¨äºå±•ç¤ºä¸¤ä¸ªæˆ–å¤šä¸ªåˆ†ç±»å˜é‡ä¹‹é—´å…³ç³»çš„è¡¨æ ¼ï¼Œé€šå¸¸æ˜¾ç¤ºäº†æ¯ä¸ªç»„åˆçš„é¢‘æ•°æˆ–é¢‘ç‡ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; xtabs(Choice~Size, data=cbc.df)
</span></span><span class=line><span class=cl>Size
</span></span><span class=line><span class=cl>sz10inch  sz7inch  sz8inch  sz9inch 
</span></span><span class=line><span class=cl>     475      535      472      573 
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ä¼°è®¡é€‰æ‹©æ¨¡å‹ä¹‹å‰ï¼Œå§‹ç»ˆé¼“åŠ±ä¸ºæ¯ä¸ªå±æ€§è®¡ç®—é€‰æ‹©è®¡æ•°ã€‚</p><h1 id=2-prepare-the-data>2. Prepare the data</h1><p>æˆ‘ä»¬ç°åœ¨å¯ä»¥ä¼°è®¡æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªé€‰æ‹©æ¨¡å‹äº†ã€‚é€šè¿‡æ‹Ÿåˆé€‰æ‹©æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç²¾ç¡®åœ°æµ‹é‡æ¯ä¸ªå±æ€§ä¸å—è®¿è€…é€‰æ‹©çš„å…³è”ç¨‹åº¦ã€‚
æˆ‘ä»¬ä½¿ç”¨ mlogit åŒ…ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨ install.packages() å®‰è£…ã€‚mlogit ä¼°è®¡æœ€åŸºæœ¬å’Œå¸¸ç”¨çš„é€‰æ‹©æ¨¡å‹ï¼Œå³å¤šé¡¹é€»è¾‘å›å½’æ¨¡å‹ã€‚</p><h2 id=21-define-reference-levels---used-when-estimating-model>2.1 Define reference levels - used when estimating model</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cbc.df$Brand &lt;- relevel(cbc.df$Brand, ref = &#34;Nexus&#34;) 
</span></span><span class=line><span class=cl>cbc.df$Size &lt;- relevel(cbc.df$Size, ref = &#34;sz7inch&#34;) 
</span></span><span class=line><span class=cl>cbc.df$Storage &lt;- relevel(cbc.df$Storage, ref = &#34;st16gb&#34;) 
</span></span><span class=line><span class=cl>cbc.df$Ram &lt;- relevel(cbc.df$Ram, ref = &#34;r1gb&#34;) 
</span></span><span class=line><span class=cl>cbc.df$Battery &lt;- relevel(cbc.df$Battery, ref = &#34;b7h&#34;)
</span></span></code></pre></td></tr></table></div></div><h2 id=22-define-data-format>2.2 Define data format</h2><p>mlogit è¦æ±‚é€‰æ‹©æ•°æ®å…·æœ‰ç‰¹å®šçš„æ•°æ®æ ¼å¼ã€‚æˆ‘ä»¬ä½¿ç”¨ dfidx åŒ…ä¸­çš„ dfidx å‡½æ•°æ¥æ•´ç†æ ¼å¼ã€‚</p><ul><li>choice å‚æ•°æŒ‡ç¤ºåŒ…å«å“åº”æ•°æ®çš„åˆ—ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œchoice = â€œChoiceâ€ã€‚</li><li>idx å‚æ•°æŒ‡ç¤ºå¤‡é€‰æ–¹æ¡ˆçš„ç»“æ„ã€‚åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªç´¢å¼•è¡¨ç¤ºé€‰æ‹©é›†å’Œæ¶ˆè´¹è€…çš„åˆ—ï¼Œç¬¬äºŒä¸ªç´¢å¼•è¡¨ç¤ºæ¯ä¸ªé€‰æ‹©é›†ä¸­å¤‡é€‰æ–¹æ¡ˆçš„åˆ—ã€‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cbc.mlogit &lt;- dfidx(cbc.df, choice=&#34;Choice&#34;, idx=list(c(&#34;ChoiceSetId&#34;, &#34;ConsumerId&#34;), &#34;AlternativeIdInSet&#34;))
</span></span></code></pre></td></tr></table></div></div><h1 id=3-multinomial-conjoint-model-estimation-with-mlogit>3 Multinomial conjoint model estimation with mlogit()</h1><p>å½“æˆ‘ä»¬è¿è¡Œæ¨¡å‹æ—¶ï¼Œå®ƒä¼šé€‰æ‹©æ¯ä¸ªç¦»æ•£å±æ€§çš„å‚è€ƒæ°´å¹³ã€‚å‚è€ƒæ°´å¹³çš„æ•ˆç”¨è¢«å½’ä¸€åŒ–ä¸ºé›¶ã€‚æˆ‘ä»¬åœ¨æ•°æ®åŠ è½½é˜¶æ®µä¸ºæ¯ä¸ªç¦»æ•£å±æ€§æŒ‡å®šäº†ä¸€ä¸ªå‚è€ƒæ°´å¹³ã€‚è¿™äº›å‚è€ƒæ°´å¹³æ˜¯ Nexusã€7 è‹±å¯¸å±å¹•ã€16GB ç¡¬ç›˜ã€1GB å†…å­˜ã€7 å°æ—¶ç”µæ± ã€‚æˆ‘ä»¬å°†ä»·æ ¼è§†ä¸ºè¿ç»­å˜é‡ï¼Œå› æ­¤ä¸éœ€è¦æŒ‡å®šå‚è€ƒæ°´å¹³ã€‚<br>è¯¥æ¨¡å‹å‡å®šæ²¡æœ‰è¯¯å·®é¡¹çš„å¤‡é€‰æ–¹æ¡ˆ j çš„æ•ˆç”¨å¦‚ä¸‹æ‰€ç¤ºã€‚</p>$$
V_j = \beta_{11}[ \text{Brand} = \text{Galaxy}] + \beta_{12}[ \text{Brand} = \text{iPad}] + \beta_{13}[ \text{Brand} = \text{Kindle}] + \beta_{14}[ \text{Brand} = \text{Surface}] + \beta_{21}[ \text{Screen} = \text{10inch}] + \beta_{22}[ \text{Screen} = \text{9inch}] + \beta_{23}[ \text{Screen} = \text{8inch}] + \beta_{31}[ \text{Storage} = \text{128gb}] + \beta_{32}[ \text{Storage} = \text{64gb}] + \beta_{33}[ \text{Storage} = \text{32gb}] + \beta_{41}[ \text{RAM} = \text{4gb}] + \beta_{42}[ \text{RAM} = \text{2gb}] + \beta_{51}[ \text{Battery} = \text{9h}] + \beta_{52}[ \text{Battery} = \text{8h}] + \beta_6 \text{Price}
$$<p>å…¶ä¸­ï¼Œ$ U_j = V_j + error $ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰ 15 ä¸ªå‚æ•° $ \beta $ éœ€è¦ä¼°è®¡ã€‚</p><p>å‡è®¾ç‹¬ç«‹çš„æå€¼è¯¯å·®åˆ†å¸ƒï¼Œæ¶ˆè´¹è€…ä»¥æ¦‚ç‡ä»ä¸‰ä¸ªå¤‡é€‰æ–¹æ¡ˆä¸­é€‰æ‹©å¤‡é€‰æ–¹æ¡ˆ jã€‚<br></p>$$
p_j = \frac{\exp(V_j)}{\sum_{k=1}^{3} \exp(V_k)}, \quad \text{for } j \in \{1,2,3\}
$$<p>æ˜¾ç„¶ï¼Œ$ p_1 + p_2 + p_3 = 1 $
æˆ‘ä»¬å®é™…ä¼°è®¡æ¨¡å‹ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; model&lt;-mlogit(Choice ~ 0+Brand+Size+Storage+Ram+Battery+Price, data=cbc.mlogit) 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; kable(summary(model)$CoefTable)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>|               |   Estimate| Std. Error|    z-value| Pr(&gt;&amp;#124;z&amp;#124;)|
</span></span><span class=line><span class=cl>|:--------------|----------:|----------:|----------:|------------------:|
</span></span><span class=line><span class=cl>|BrandGalaxy    |  0.3378857|  0.0925056|   3.652596|          0.0002596|
</span></span><span class=line><span class=cl>|BrandiPad      |  0.9780287|  0.0937336|  10.434136|          0.0000000|
</span></span><span class=line><span class=cl>|BrandKindle    |  0.2630105|  0.0996254|   2.639995|          0.0082907|
</span></span><span class=line><span class=cl>|BrandSurface   |  0.1450365|  0.0938521|   1.545373|          0.1222560|
</span></span><span class=line><span class=cl>|Sizesz10inch   |  0.3240632|  0.0841953|   3.848949|          0.0001186|
</span></span><span class=line><span class=cl>|Sizesz8inch    |  0.1890775|  0.0829232|   2.280151|          0.0225987|
</span></span><span class=line><span class=cl>|Sizesz9inch    |  0.4355415|  0.0808408|   5.387644|          0.0000001|
</span></span><span class=line><span class=cl>|Storagest128gb |  0.5897703|  0.0870533|   6.774822|          0.0000000|
</span></span><span class=line><span class=cl>|Storagest32gb  |  0.2168719|  0.0829213|   2.615395|          0.0089124|
</span></span><span class=line><span class=cl>|Storagest64gb  |  0.5782183|  0.0808259|   7.153877|          0.0000000|
</span></span><span class=line><span class=cl>|Ramr2gb        |  0.3189348|  0.0672579|   4.741970|          0.0000021|
</span></span><span class=line><span class=cl>|Ramr4gb        |  0.6357438|  0.0645225|   9.853053|          0.0000000|
</span></span><span class=line><span class=cl>|Batteryb8h     |  0.1299599|  0.0651501|   1.994777|          0.0460672|
</span></span><span class=line><span class=cl>|Batteryb9h     |  0.1253824|  0.0650588|   1.927216|          0.0539528|
</span></span><span class=line><span class=cl>|Price          | -0.0050888|  0.0002752| -18.488626|          0.0000000|
</span></span></code></pre></td></tr></table></div></div><h2 id=31-meaning-of-parameters>3.1 Meaning of parameters</h2><p>åœ¨ä¼°è®¡åï¼Œæˆ‘ä»¬å¾—åˆ°äº†æ¯ä¸ªç¦»æ•£å±æ€§çš„æ¯ä¸ªæ°´å¹³ï¼ˆé™¤äº†å‚è€ƒæ°´å¹³ï¼‰çš„ç³»æ•°ä¼°è®¡ã€‚è¿™æ ·çš„ç³»æ•°æ•è·äº†ä¸å‚è€ƒç›¸æ¯”å±æ€§æ°´å¹³çš„ç›¸å¯¹æ•ˆç”¨æˆ–éƒ¨åˆ†ä»·å€¼ã€‚ä¾‹å¦‚ï¼Œåœ¨å“ç‰Œå±æ€§çš„æƒ…å†µä¸‹ï¼Œå“ç‰ŒiPadç³»æ•°ç»™å‡ºäº†iPadç›¸å¯¹äºNexusï¼ˆå‚è€ƒå“ç‰Œï¼‰çš„å“ç‰Œç›¸å¯¹æ•ˆç”¨çš„ä¼°è®¡ã€‚</p><p>æ­£å·å‘Šè¯‰æˆ‘ä»¬ï¼Œå¹³å‡è€Œè¨€ï¼Œå®¢æˆ·æ›´å–œæ¬¢iPadè€Œä¸æ˜¯Nexusï¼Œå› ä¸ºè¾ƒå¤§çš„ä¼°è®¡è¡¨ç¤ºæ›´å¼ºçš„åå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®¢æˆ·éå¸¸å–œæ¬¢64GBå­˜å‚¨ï¼ˆç›¸å¯¹äºåŸºæœ¬æ°´å¹³ï¼Œå³16GBï¼‰ã€‚è¿™äº›å‚æ•°ä¼°è®¡å€¼æ˜¯åœ¨logitåˆ»åº¦ä¸Šçš„ã€‚</p><p>åœ¨è¿ç»­ä»·æ ¼çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªå•ä¸€çš„ç³»æ•°ï¼Œå®ƒæ•æ‰åˆ°å½“ä»·æ ¼å¢åŠ ä¸€å•ä½ï¼ˆ$1ï¼‰æ—¶å¤‡é€‰æ–¹æ¡ˆçš„æ•ˆç”¨å¦‚ä½•å˜åŒ–ï¼ŒåŒæ—¶ä¿æŒå¤‡é€‰æ–¹æ¡ˆçš„æ‰€æœ‰å…¶ä»–ç‰¹å¾ä¸å˜ã€‚</p><h2 id=32-model-fit>3.2 Model fit</h2><p>æœ‰äººå¯èƒ½ä¼šæƒ³çŸ¥é“åå¥½æ˜¯å¦ä»…å—å“ç‰Œæ•ˆåº”é©±åŠ¨ã€‚æˆ‘ä»¬å¯ä»¥ä¼°è®¡ä¸€ä¸ªåªæœ‰å“ç‰Œä½œä¸ºé¢„æµ‹å˜é‡çš„æ¨¡å‹ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&gt;</span> <span class=n>model</span><span class=o>.</span><span class=n>constraint</span> <span class=o>&lt;-</span><span class=n>mlogit</span><span class=p>(</span><span class=n>Choice</span> <span class=o>~</span> <span class=mi>0</span><span class=o>+</span><span class=n>Brand</span><span class=p>,</span> <span class=n>data</span> <span class=o>=</span> <span class=n>cbc</span><span class=o>.</span><span class=n>mlogit</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>mlogit()
ç”¨äºæ‹Ÿåˆå¤šé¡¹ Logit æ¨¡å‹ã€‚å¤šé¡¹ Logit æ¨¡å‹æ˜¯ä¸€ç§ç”¨äºå¤„ç†å¤šåˆ†ç±»é—®é¢˜çš„ç»Ÿè®¡æ¨¡å‹ï¼Œé€šå¸¸ç”¨äºè§£é‡Šå’Œé¢„æµ‹ä¸ªä½“é€‰æ‹©ä¸åŒç±»åˆ«çš„æ¦‚ç‡ã€‚<br>ç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ lrtest æ¥æ¯”è¾ƒè¿™ä¸¤ä¸ªæ¨¡å‹ã€‚</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&gt;</span> <span class=n>lrtest</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=n>model</span><span class=o>.</span><span class=n>constraint</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Likelihood</span> <span class=n>ratio</span> <span class=n>test</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Model</span> <span class=mi>1</span><span class=p>:</span> <span class=n>Choice</span> <span class=o>~</span> <span class=mi>0</span> <span class=o>+</span> <span class=n>Brand</span> <span class=o>+</span> <span class=n>Size</span> <span class=o>+</span> <span class=n>Storage</span> <span class=o>+</span> <span class=n>Ram</span> <span class=o>+</span> <span class=n>Battery</span> <span class=o>+</span> <span class=n>Price</span>
</span></span><span class=line><span class=cl><span class=n>Model</span> <span class=mi>2</span><span class=p>:</span> <span class=n>Choice</span> <span class=o>~</span> <span class=mi>0</span> <span class=o>+</span> <span class=n>Brand</span>
</span></span><span class=line><span class=cl>  <span class=c1>#Df  LogLik  Df  Chisq Pr(&gt;Chisq)    </span>
</span></span><span class=line><span class=cl><span class=mi>1</span>  <span class=mi>15</span> <span class=o>-</span><span class=mf>1938.9</span>                          
</span></span><span class=line><span class=cl><span class=mi>2</span>   <span class=mi>4</span> <span class=o>-</span><span class=mf>2218.0</span> <span class=o>-</span><span class=mi>11</span> <span class=mf>558.29</span>  <span class=o>&lt;</span> <span class=mf>2.2e-16</span> <span class=o>***</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=n>Signif</span><span class=o>.</span> <span class=n>codes</span><span class=p>:</span>  <span class=mi>0</span> <span class=err>â€˜</span><span class=o>***</span><span class=err>â€™</span> <span class=mf>0.001</span> <span class=err>â€˜</span><span class=o>**</span><span class=err>â€™</span> <span class=mf>0.01</span> <span class=err>â€˜</span><span class=o>*</span><span class=err>â€™</span> <span class=mf>0.05</span> <span class=err>â€˜</span><span class=o>.</span><span class=err>â€™</span> <span class=mf>0.1</span> <span class=err>â€˜</span> <span class=err>â€™</span> <span class=mi>1</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>lrtest()
ç”¨äºè¿›è¡Œä¸¤ä¸ªçº¿æ€§å›å½’æ¨¡å‹ä¹‹é—´çš„ Likelihood Ratio Testï¼ˆä¼¼ç„¶æ¯”æ£€éªŒï¼‰ã€‚Likelihood Ratio Test ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå…·æœ‰ä¸åŒå¤æ‚åº¦çš„æ¨¡å‹æ˜¯å¦åœ¨è§£é‡Šæ•°æ®æ–¹é¢æœ‰æ˜¾è‘—çš„å·®å¼‚ã€‚</p></blockquote><h1 id=4-interpreting-conjoint-analysis-findings>4. Interpreting Conjoint Analysis Findings</h1><p>é€šå¸¸å¾ˆéš¾ç›´æ¥è§£é‡Šé€‰æ‹©æ¨¡å‹çš„éƒ¨åˆ†æ•ˆç”¨ä¼°è®¡ã€‚ç³»æ•°å¤„äºä¸€ä¸ªä¸ç†Ÿæ‚‰çš„å°ºåº¦ä¸Šï¼ˆå³logï¼‰ï¼Œå®ƒä»¬è¡¡é‡äº†å„ä¸ªæ°´å¹³çš„ç›¸å¯¹åå¥½ï¼Œè¿™ä½¿å¾—å®ƒä»¬å¾ˆéš¾ç†è§£ã€‚å› æ­¤ï¼Œå¤§å¤šæ•°é€‰æ‹©æ¨¡å‹åå¥½ä¸“æ³¨äºä½¿ç”¨æ¨¡å‹è¿›è¡Œé€‰æ‹©ä»½é¢é¢„æµ‹æˆ–è®¡ç®—æ¯ä¸ªå±æ€§çš„æ”¯ä»˜æ„æ„¿ï¼Œè€Œä¸æ˜¯å‘ˆç°ç³»æ•°ã€‚</p><h2 id=41-predicted-market-share>4.1 Predicted Market Share</h2><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ä¼°è®¡çš„å‚æ•°æ¥é¢„æµ‹æ•°æ®ä¸­ä¸åŒå¤‡é€‰æ–¹æ¡ˆçš„é€‰æ‹©æ¦‚ç‡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ‰“å°å‡ºæ•°æ®ä¸­å‰å…­ä¸ªé€‰æ‹©é›†çš„é¢„æµ‹ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; kable(head(predict(model,cbc.mlogit)))
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>|         1|         2|         3|
</span></span><span class=line><span class=cl>|---------:|---------:|---------:|
</span></span><span class=line><span class=cl>| 0.3717263| 0.4405521| 0.1877216|
</span></span><span class=line><span class=cl>| 0.2367797| 0.4718620| 0.2913583|
</span></span><span class=line><span class=cl>| 0.4760867| 0.2974319| 0.2264814|
</span></span><span class=line><span class=cl>| 0.3730366| 0.4456505| 0.1813129|
</span></span><span class=line><span class=cl>| 0.3984632| 0.1618560| 0.4396807|
</span></span><span class=line><span class=cl>| 0.3791075| 0.2506170| 0.3702755|
</span></span></code></pre></td></tr></table></div></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹é‡æ•´ä¸ªæ•°æ®é›†ä¸­é¢„æµ‹çš„å‡†ç¡®æ€§ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; predicted_alternative &lt;- apply(predict(model,cbc.mlogit),1,which.max) 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; selected_alternative &lt;- cbc.mlogit$AlternativeIdInSet[cbc.mlogit$Choice&gt;0] 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; confusionMatrix(table(predicted_alternative,selected_alternative),positive = &#34;1&#34;)
</span></span><span class=line><span class=cl>Confusion Matrix and Statistics
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                     selected_alternative
</span></span><span class=line><span class=cl>predicted_alternative   1   2   3
</span></span><span class=line><span class=cl>                    1 362 158 130
</span></span><span class=line><span class=cl>                    2 164 449 149
</span></span><span class=line><span class=cl>                    3 136 160 347
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Overall Statistics
</span></span><span class=line><span class=cl>                                          
</span></span><span class=line><span class=cl>               Accuracy : 0.5635          
</span></span><span class=line><span class=cl>                 95% CI : (0.5417, 0.5851)
</span></span><span class=line><span class=cl>    No Information Rate : 0.3732          
</span></span><span class=line><span class=cl>    P-Value [Acc &gt; NIR] : &lt;2e-16          
</span></span><span class=line><span class=cl>                                          
</span></span><span class=line><span class=cl>                  Kappa : 0.343           
</span></span><span class=line><span class=cl>                                          
</span></span><span class=line><span class=cl> Mcnemar&#39;s Test P-Value : 0.8875          
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Statistics by Class:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                     Class: 1 Class: 2 Class: 3
</span></span><span class=line><span class=cl>Sensitivity            0.5468   0.5854   0.5543
</span></span><span class=line><span class=cl>Specificity            0.7933   0.7570   0.7929
</span></span><span class=line><span class=cl>Pos Pred Value         0.5569   0.5892   0.5397
</span></span><span class=line><span class=cl>Neg Pred Value         0.7865   0.7541   0.8024
</span></span><span class=line><span class=cl>Prevalence             0.3221   0.3732   0.3046
</span></span><span class=line><span class=cl>Detection Rate         0.1762   0.2185   0.1689
</span></span><span class=line><span class=cl>Detection Prevalence   0.3163   0.3708   0.3129
</span></span><span class=line><span class=cl>Balanced Accuracy      0.6700   0.6712   0.6736
</span></span></code></pre></td></tr></table></div></div><p>è¯·æ³¨æ„ï¼Œå¦‚æœé¢„æµ‹æ˜¯éšæœºçš„ï¼Œå‡†ç¡®ç‡å°†ä¸º33.3%ï¼ˆå¯¹äºä¸‰ä¸ªå¤‡é€‰æ–¹æ¡ˆï¼‰ã€‚æˆ‘ä»¬çš„ç®€å•æ¨¡å‹æ¯”è¿™è¦å¥½å¾—å¤šï¼Œå°½ç®¡å®ƒå¹¶ä¸å®Œç¾ã€‚</p><h2 id=42-conjoint-simulator>4.2 Conjoint simulator</h2><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨æ¨¡å‹å‚æ•°åœºæ™¯æ¥é¢„æµ‹åœ¨å‡è®¾å¸‚åœºæ¡ä»¶ä¸‹ä»»æ„ä¸€ç»„äº§å“çš„å¸‚åœºä»½é¢ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; predict.share &lt;- function(model, d) {
</span></span><span class=line><span class=cl>+   temp &lt;- model.matrix(update(model$formula, 0 ~ .), data = d)[,-1] # generate dummy matri 
</span></span><span class=line><span class=cl>+   u &lt;- temp%*% .... [TRUNCATED] 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; # hypothetical base market structure with 4 alternatives in the market
</span></span><span class=line><span class=cl>&gt; d.base &lt;- cbc.df[c(44,34,33,40),c(&#34;Brand&#34;,&#34;Size&#34;,&#34;Storage&#34;,&#34;Ram&#34;, &#34;Battery&#34; .... [TRUNCATED] 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; d.base &lt;- cbind(d.base,as.vector(predict.share(model,d.base)))
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; colnames(d.base)[7] &lt;- &#34;Predicted.Share&#34; 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; rownames(d.base) &lt;- c()
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; kable(d.base)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>|Brand   |Size     |Storage |Ram  |Battery | Price| Predicted.Share|
</span></span><span class=line><span class=cl>|:-------|:--------|:-------|:----|:-------|-----:|---------------:|
</span></span><span class=line><span class=cl>|iPad    |sz7inch  |st64gb  |r2gb |b8h     |   399|       0.3423928|
</span></span><span class=line><span class=cl>|Galaxy  |sz10inch |st32gb  |r2gb |b7h     |   299|       0.2540301|
</span></span><span class=line><span class=cl>|Surface |sz10inch |st64gb  |r1gb |b7h     |   399|       0.1313854|
</span></span><span class=line><span class=cl>|Kindle  |sz7inch  |st32gb  |r1gb |b9h     |   169|       0.2721917|
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; # hypothetical market structure after Galaxy gets a RAM upgrade
</span></span><span class=line><span class=cl>&gt; d.new &lt;- d.base
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; d.new[2, &#39;Ram&#39;] &lt;- &#34;r4gb&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; d.new$Predicted.Share &lt;- as.vector(predict.share(model,d.new)) 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; kable(d.new)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>|Brand   |Size     |Storage |Ram  |Battery | Price| Predicted.Share|
</span></span><span class=line><span class=cl>|:-------|:--------|:-------|:----|:-------|-----:|---------------:|
</span></span><span class=line><span class=cl>|iPad    |sz7inch  |st64gb  |r2gb |b8h     |   399|       0.3127768|
</span></span><span class=line><span class=cl>|Galaxy  |sz10inch |st32gb  |r4gb |b7h     |   299|       0.3185544|
</span></span><span class=line><span class=cl>|Surface |sz10inch |st64gb  |r1gb |b7h     |   399|       0.1200209|
</span></span><span class=line><span class=cl>|Kindle  |sz7inch  |st32gb  |r1gb |b9h     |   169|       0.2486479|
</span></span></code></pre></td></tr></table></div></div><h2 id=43-willingness-to-pay>4.3 Willingness to pay</h2><p>éå¸¸é‡è¦çš„æ˜¯ï¼Œä½¿ç”¨å‚æ•°ä¼°è®¡ï¼Œæˆ‘ä»¬é€šè¿‡é™¤ä»¥è¯¥å±æ€§çš„ç³»æ•°æ¥ä¸ºæ‰€é€‰å±æ€§æ°´å¹³ä¼°è®¡ï¼Œæ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬ä¼°è®¡ä»·æ ¼çš„å˜åŒ–å°†å¯¼è‡´ç”±äºé—®é¢˜å±æ€§æ°´å¹³å˜åŒ–è€Œå¼•èµ·çš„æ•ˆç”¨å˜åŒ–çš„ç­‰ä»·ç‰©ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæ™®é€šæ¶ˆè´¹è€…åœ¨é€‰æ‹©æ˜¯å¦è´­ä¹° Galaxy å’Œæ”¯ä»˜é¢å¤– $125.8 ä¹‹é—´å¤„äºä¸­ç«‹çŠ¶æ€ï¼Œæˆ–è€…è´­ä¹° iPadã€‚æ¢å¥è¯è¯´ï¼Œæ™®é€šæ¶ˆè´¹è€…æ„¿æ„æ”¯ä»˜é«˜è¾¾ $125.8 æ¥è·å– iPad è€Œä¸æ˜¯ Nexusï¼ŒåŒæ—¶ä¿æŒæ‰€æœ‰å…¶ä»–ç‰¹å¾ä¸å˜ã€‚</p><h3 id=431-what-is-the-brand-value-of-ipad-relative-to-galaxy>4.3.1 What is the brand value of iPad relative to Galaxy?</h3><p>å“ç‰Œèµ„äº§ - ä» Galaxy å‡çº§åˆ° iPad çš„ç¾å…ƒä»·å€¼</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; (coef(model)[&#34;BrandiPad&#34;]-coef(model)[&#34;BrandGalaxy&#34;]) / (-coef(model)[&#34;Price&#34;])
</span></span><span class=line><span class=cl>BrandiPad 
</span></span><span class=line><span class=cl> 125.7944 
</span></span></code></pre></td></tr></table></div></div><blockquote><p>coef()</p></blockquote><p>æå–æ¨¡å‹ç³»æ•°çš„å‡½æ•°ï¼Œå¯ä»¥ç”¨äºæå–çº¿æ€§å›å½’ã€é€»è¾‘å›å½’ã€å¤šé¡¹å¼å›å½’ç­‰æ¨¡å‹çš„ç³»æ•°ã€‚</p><h3 id=432-willingness-to-pay-for-an-attribute-upgrade>4.3.2 Willingness to Pay for an Attribute Upgrade</h3><p>ä» 1GB å‡çº§åˆ° 4GB RAM çš„ç¾å…ƒä»·å€¼ï¼ˆ1GB æ˜¯å‚è€ƒæ°´å¹³ã€‚å› æ­¤å…¶ç³»æ•°ä¸º0ï¼‰ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt; coef(model)[&#34;Sizesz9inch&#34;] / (-coef(model)[&#34;Price&#34;])
</span></span><span class=line><span class=cl>Sizesz9inch 
</span></span><span class=line><span class=cl>    85.5882
</span></span></code></pre></td></tr></table></div></div><h1 id=5-code>5. Code</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>library</span><span class=p>(</span><span class=s2>&#34;xtable&#34;</span><span class=p>)</span> <span class=c1># processing of regression output </span>
</span></span><span class=line><span class=cl><span class=n>library</span><span class=p>(</span><span class=s2>&#34;knitr&#34;</span><span class=p>)</span> <span class=c1># used for report compilation and table display </span>
</span></span><span class=line><span class=cl><span class=n>library</span><span class=p>(</span><span class=s2>&#34;ggplot2&#34;</span><span class=p>)</span> <span class=c1># very popular plotting library ggplot2 </span>
</span></span><span class=line><span class=cl><span class=n>library</span><span class=p>(</span><span class=s2>&#34;mlogit&#34;</span><span class=p>)</span> <span class=c1># multinomial logit</span>
</span></span><span class=line><span class=cl><span class=n>library</span><span class=p>(</span><span class=s2>&#34;caret&#34;</span><span class=p>)</span> <span class=c1># ConfusionMatrix</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è·å–å½“å‰å·²åŠ è½½æ–‡ä»¶çš„ç›®å½•</span>
</span></span><span class=line><span class=cl><span class=n>file_dir</span> <span class=o>&lt;-</span> <span class=n>dirname</span><span class=p>(</span><span class=n>parent</span><span class=o>.</span><span class=n>frame</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=o>$</span><span class=n>ofile</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>file_dir</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># å°†å·¥ä½œç›®å½•è®¾ç½®ä¸ºå½“å‰å·²åŠ è½½æ–‡ä»¶çš„ç›®å½•</span>
</span></span><span class=line><span class=cl><span class=n>setwd</span><span class=p>(</span><span class=n>file_dir</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>&lt;-</span><span class=n>read</span><span class=o>.</span><span class=n>csv</span><span class=p>(</span><span class=s2>&#34;Data_Conjoint_Choice.csv&#34;</span><span class=p>,</span> <span class=n>stringsAsFactors</span> <span class=o>=</span> <span class=n>TRUE</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=nb>str</span><span class=p>(</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>head</span><span class=p>(</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>summary</span><span class=p>(</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>xtabs</span><span class=p>(</span><span class=n>Choice</span><span class=o>~</span><span class=n>Price</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>xtabs</span><span class=p>(</span><span class=n>Choice</span><span class=o>~</span><span class=n>Size</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>$</span><span class=n>Brand</span> <span class=o>&lt;-</span> <span class=n>relevel</span><span class=p>(</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>$</span><span class=n>Brand</span><span class=p>,</span> <span class=n>ref</span> <span class=o>=</span> <span class=s2>&#34;Nexus&#34;</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>$</span><span class=n>Size</span> <span class=o>&lt;-</span> <span class=n>relevel</span><span class=p>(</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>$</span><span class=n>Size</span><span class=p>,</span> <span class=n>ref</span> <span class=o>=</span> <span class=s2>&#34;sz7inch&#34;</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>$</span><span class=n>Storage</span> <span class=o>&lt;-</span> <span class=n>relevel</span><span class=p>(</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>$</span><span class=n>Storage</span><span class=p>,</span> <span class=n>ref</span> <span class=o>=</span> <span class=s2>&#34;st16gb&#34;</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>$</span><span class=n>Ram</span> <span class=o>&lt;-</span> <span class=n>relevel</span><span class=p>(</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>$</span><span class=n>Ram</span><span class=p>,</span> <span class=n>ref</span> <span class=o>=</span> <span class=s2>&#34;r1gb&#34;</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>$</span><span class=n>Battery</span> <span class=o>&lt;-</span> <span class=n>relevel</span><span class=p>(</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=o>$</span><span class=n>Battery</span><span class=p>,</span> <span class=n>ref</span> <span class=o>=</span> <span class=s2>&#34;b7h&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>library</span><span class=p>(</span><span class=n>dfidx</span><span class=p>)</span> <span class=c1>#install if needed </span>
</span></span><span class=line><span class=cl><span class=n>cbc</span><span class=o>.</span><span class=n>mlogit</span> <span class=o>&lt;-</span> <span class=n>dfidx</span><span class=p>(</span><span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=p>,</span> <span class=n>choice</span><span class=o>=</span><span class=s2>&#34;Choice&#34;</span><span class=p>,</span> <span class=n>idx</span><span class=o>=</span><span class=n>list</span><span class=p>(</span><span class=n>c</span><span class=p>(</span><span class=s2>&#34;ChoiceSetId&#34;</span><span class=p>,</span> <span class=s2>&#34;ConsumerId&#34;</span><span class=p>),</span> <span class=s2>&#34;AlternativeIdInSet&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>model</span><span class=o>&lt;-</span><span class=n>mlogit</span><span class=p>(</span><span class=n>Choice</span> <span class=o>~</span> <span class=mi>0</span><span class=o>+</span><span class=n>Brand</span><span class=o>+</span><span class=n>Size</span><span class=o>+</span><span class=n>Storage</span><span class=o>+</span><span class=n>Ram</span><span class=o>+</span><span class=n>Battery</span><span class=o>+</span><span class=n>Price</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>cbc</span><span class=o>.</span><span class=n>mlogit</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=n>kable</span><span class=p>(</span><span class=n>summary</span><span class=p>(</span><span class=n>model</span><span class=p>)</span><span class=o>$</span><span class=n>CoefTable</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>model</span><span class=o>.</span><span class=n>constraint</span> <span class=o>&lt;-</span><span class=n>mlogit</span><span class=p>(</span><span class=n>Choice</span> <span class=o>~</span> <span class=mi>0</span><span class=o>+</span><span class=n>Brand</span><span class=p>,</span> <span class=n>data</span> <span class=o>=</span> <span class=n>cbc</span><span class=o>.</span><span class=n>mlogit</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>lrtest</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=n>model</span><span class=o>.</span><span class=n>constraint</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>kable</span><span class=p>(</span><span class=n>head</span><span class=p>(</span><span class=n>predict</span><span class=p>(</span><span class=n>model</span><span class=p>,</span><span class=n>cbc</span><span class=o>.</span><span class=n>mlogit</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>predicted_alternative</span> <span class=o>&lt;-</span> <span class=n>apply</span><span class=p>(</span><span class=n>predict</span><span class=p>(</span><span class=n>model</span><span class=p>,</span><span class=n>cbc</span><span class=o>.</span><span class=n>mlogit</span><span class=p>),</span><span class=mi>1</span><span class=p>,</span><span class=n>which</span><span class=o>.</span><span class=n>max</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=n>selected_alternative</span> <span class=o>&lt;-</span> <span class=n>cbc</span><span class=o>.</span><span class=n>mlogit</span><span class=o>$</span><span class=n>AlternativeIdInSet</span><span class=p>[</span><span class=n>cbc</span><span class=o>.</span><span class=n>mlogit</span><span class=o>$</span><span class=n>Choice</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=n>confusionMatrix</span><span class=p>(</span><span class=n>table</span><span class=p>(</span><span class=n>predicted_alternative</span><span class=p>,</span><span class=n>selected_alternative</span><span class=p>),</span><span class=n>positive</span> <span class=o>=</span> <span class=s2>&#34;1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>predict</span><span class=o>.</span><span class=n>share</span> <span class=o>&lt;-</span> <span class=n>function</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>temp</span> <span class=o>&lt;-</span> <span class=n>model</span><span class=o>.</span><span class=n>matrix</span><span class=p>(</span><span class=n>update</span><span class=p>(</span><span class=n>model</span><span class=o>$</span><span class=n>formula</span><span class=p>,</span> <span class=mi>0</span> <span class=o>~</span> <span class=o>.</span><span class=p>),</span> <span class=n>data</span> <span class=o>=</span> <span class=n>d</span><span class=p>)[,</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=c1># generate dummy matri </span>
</span></span><span class=line><span class=cl>  <span class=n>u</span> <span class=o>&lt;-</span> <span class=n>temp</span><span class=o>%*%</span><span class=n>model</span><span class=o>$</span><span class=n>coef</span><span class=p>[</span><span class=n>colnames</span><span class=p>(</span><span class=n>temp</span><span class=p>)]</span> <span class=c1># calculate utilities; %*% is matrix multiplicati </span>
</span></span><span class=line><span class=cl>  <span class=n>probs</span> <span class=o>&lt;-</span> <span class=n>t</span><span class=p>(</span><span class=nb>exp</span><span class=p>(</span><span class=n>u</span><span class=p>)</span><span class=o>/</span><span class=n>sum</span><span class=p>(</span><span class=nb>exp</span><span class=p>(</span><span class=n>u</span><span class=p>)))</span> <span class=c1># calculate probabilities</span>
</span></span><span class=line><span class=cl>  <span class=n>colnames</span><span class=p>(</span><span class=n>probs</span><span class=p>)</span> <span class=o>&lt;-</span> <span class=n>paste</span><span class=p>(</span><span class=s2>&#34;alternative&#34;</span><span class=p>,</span> <span class=n>colnames</span><span class=p>(</span><span class=n>probs</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>(</span><span class=n>probs</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1># hypothetical base market structure with 4 alternatives in the market</span>
</span></span><span class=line><span class=cl><span class=n>d</span><span class=o>.</span><span class=n>base</span> <span class=o>&lt;-</span> <span class=n>cbc</span><span class=o>.</span><span class=n>df</span><span class=p>[</span><span class=n>c</span><span class=p>(</span><span class=mi>44</span><span class=p>,</span><span class=mi>34</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>40</span><span class=p>),</span><span class=n>c</span><span class=p>(</span><span class=s2>&#34;Brand&#34;</span><span class=p>,</span><span class=s2>&#34;Size&#34;</span><span class=p>,</span><span class=s2>&#34;Storage&#34;</span><span class=p>,</span><span class=s2>&#34;Ram&#34;</span><span class=p>,</span> <span class=s2>&#34;Battery&#34;</span><span class=p>,</span><span class=s2>&#34;Price&#34;</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=n>d</span><span class=o>.</span><span class=n>base</span> <span class=o>&lt;-</span> <span class=n>cbind</span><span class=p>(</span><span class=n>d</span><span class=o>.</span><span class=n>base</span><span class=p>,</span><span class=n>as</span><span class=o>.</span><span class=n>vector</span><span class=p>(</span><span class=n>predict</span><span class=o>.</span><span class=n>share</span><span class=p>(</span><span class=n>model</span><span class=p>,</span><span class=n>d</span><span class=o>.</span><span class=n>base</span><span class=p>)))</span>
</span></span><span class=line><span class=cl><span class=n>colnames</span><span class=p>(</span><span class=n>d</span><span class=o>.</span><span class=n>base</span><span class=p>)[</span><span class=mi>7</span><span class=p>]</span> <span class=o>&lt;-</span> <span class=s2>&#34;Predicted.Share&#34;</span> 
</span></span><span class=line><span class=cl><span class=n>rownames</span><span class=p>(</span><span class=n>d</span><span class=o>.</span><span class=n>base</span><span class=p>)</span> <span class=o>&lt;-</span> <span class=n>c</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>kable</span><span class=p>(</span><span class=n>d</span><span class=o>.</span><span class=n>base</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># hypothetical market structure after Galaxy gets a RAM upgrade</span>
</span></span><span class=line><span class=cl><span class=n>d</span><span class=o>.</span><span class=n>new</span> <span class=o>&lt;-</span> <span class=n>d</span><span class=o>.</span><span class=n>base</span>
</span></span><span class=line><span class=cl><span class=n>d</span><span class=o>.</span><span class=n>new</span><span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;Ram&#39;</span><span class=p>]</span> <span class=o>&lt;-</span> <span class=s2>&#34;r4gb&#34;</span>
</span></span><span class=line><span class=cl><span class=n>d</span><span class=o>.</span><span class=n>new</span><span class=o>$</span><span class=n>Predicted</span><span class=o>.</span><span class=n>Share</span> <span class=o>&lt;-</span> <span class=n>as</span><span class=o>.</span><span class=n>vector</span><span class=p>(</span><span class=n>predict</span><span class=o>.</span><span class=n>share</span><span class=p>(</span><span class=n>model</span><span class=p>,</span><span class=n>d</span><span class=o>.</span><span class=n>new</span><span class=p>))</span> 
</span></span><span class=line><span class=cl><span class=n>kable</span><span class=p>(</span><span class=n>d</span><span class=o>.</span><span class=n>new</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=n>coef</span><span class=p>(</span><span class=n>model</span><span class=p>)[</span><span class=s2>&#34;BrandiPad&#34;</span><span class=p>]</span><span class=o>-</span><span class=n>coef</span><span class=p>(</span><span class=n>model</span><span class=p>)[</span><span class=s2>&#34;BrandGalaxy&#34;</span><span class=p>])</span> <span class=o>/</span> <span class=p>(</span><span class=o>-</span><span class=n>coef</span><span class=p>(</span><span class=n>model</span><span class=p>)[</span><span class=s2>&#34;Price&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>coef</span><span class=p>(</span><span class=n>model</span><span class=p>)[</span><span class=s2>&#34;Sizesz9inch&#34;</span><span class=p>]</span> <span class=o>/</span> <span class=p>(</span><span class=o>-</span><span class=n>coef</span><span class=p>(</span><span class=n>model</span><span class=p>)[</span><span class=s2>&#34;Price&#34;</span><span class=p>])</span>
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/r%E8%AF%AD%E8%A8%80/>Rè¯­è¨€</a>
<a href=/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/>æ•°æ®åˆ†æ</a>
<a href=/tags/%E7%AB%9E%E4%BA%89%E4%BC%98%E5%8A%BF/>ç«äº‰ä¼˜åŠ¿</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-article");renderMathInElement(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/rweek7-managing-sustainable-competitive-advantage-lecture-ii/><div class=article-details><h2 class=article-title>R[week7] Managing Sustainable Competitive Advantage lecture II</h2></div></a></article><article><a href=/p/rweek6-managing-sustainable-competitive-advantage-lecture/><div class=article-details><h2 class=article-title>R[week6] Managing Sustainable Competitive Advantage lecture</h2></div></a></article><article><a href=/p/rweek9-managing-resource-trade-offs-ii-code/><div class=article-details><h2 class=article-title>R[week9] Managing Resource Trade-Offs II Code</h2></div></a></article><article><a href=/p/rweek8-managing-resource-trade-offs-code/><div class=article-details><h2 class=article-title>R[week8] Managing Resource Trade-Offs Code</h2></div></a></article><article><a href=/p/rweek8-managing-resource-trade-offs/><div class=article-details><h2 class=article-title>R[week8] Managing Resource Trade-Offs</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//weasley.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 Kunkka</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>